import{a as qi}from"/build/_shared/chunk-4FDOSDPN.js";import{c as ki,g as Ui}from"/build/_shared/chunk-FJD3ZMHN.js";import{a as Mi,b as Qi}from"/build/_shared/chunk-PKLRMETW.js";import{b as N,c as E,d as A,e as He}from"/build/_shared/chunk-MFPRU5OA.js";var zi=N((Iy,Ki)=>{"use strict";var el=function(t){return tl(t)&&!rl(t)};function tl(e){return!!e&&typeof e=="object"}function rl(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||al(e)}var nl=typeof Symbol=="function"&&Symbol.for,il=nl?Symbol.for("react.element"):60103;function al(e){return e.$$typeof===il}function sl(e){return Array.isArray(e)?[]:{}}function Rt(e,t){return t.clone!==!1&&t.isMergeableObject(e)?st(sl(e),e,t):e}function ol(e,t,r){return e.concat(t).map(function(n){return Rt(n,r)})}function cl(e,t){if(!t.customMerge)return st;var r=t.customMerge(e);return typeof r=="function"?r:st}function ul(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function Bi(e){return Object.keys(e).concat(ul(e))}function Vi(e,t){try{return t in e}catch{return!1}}function ll(e,t){return Vi(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function fl(e,t,r){var n={};return r.isMergeableObject(e)&&Bi(e).forEach(function(i){n[i]=Rt(e[i],r)}),Bi(t).forEach(function(i){ll(e,i)||(Vi(e,i)&&r.isMergeableObject(t[i])?n[i]=cl(i,r)(e[i],t[i],r):n[i]=Rt(t[i],r))}),n}function st(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||ol,r.isMergeableObject=r.isMergeableObject||el,r.cloneUnlessOtherwiseSpecified=Rt;var n=Array.isArray(t),i=Array.isArray(e),a=n===i;return a?n?r.arrayMerge(e,t,r):fl(e,t,r):Rt(t,r)}st.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,i){return st(n,i,r)},{})};var dl=st;Ki.exports=dl});var br=N((Dy,na)=>{function re(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}na.exports=re;re.prototype._events=void 0;re.prototype._maxListeners=void 0;re.defaultMaxListeners=10;re.prototype.setMaxListeners=function(e){if(!Gl(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this};re.prototype.emit=function(e){var t,r,n,i,a,s;if(this._events||(this._events={}),e==="error"&&(!this._events.error||xt(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(r=this._events[e],ra(r))return!1;if(Ne(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(xt(r))for(i=Array.prototype.slice.call(arguments,1),s=r.slice(),n=s.length,a=0;a<n;a++)s[a].apply(this,i);return!0};re.prototype.addListener=function(e,t){var r;if(!Ne(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Ne(t.listener)?t.listener:t),this._events[e]?xt(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,xt(this._events[e])&&!this._events[e].warned&&(ra(this._maxListeners)?r=re.defaultMaxListeners:r=this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this};re.prototype.on=re.prototype.addListener;re.prototype.once=function(e,t){if(!Ne(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this};re.prototype.removeListener=function(e,t){var r,n,i,a;if(!Ne(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],i=r.length,n=-1,r===t||Ne(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(xt(r)){for(a=i;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(n<0)return this;r.length===1?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this};re.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events)t!=="removeListener"&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],Ne(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this};re.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:Ne(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t};re.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(Ne(t))return 1;if(t)return t.length}return 0};re.listenerCount=function(e,t){return e.listenerCount(t)};function Ne(e){return typeof e=="function"}function Gl(e){return typeof e=="number"}function xt(e){return typeof e=="object"&&e!==null}function ra(e){return e===void 0}});var hn=N((Hy,ia)=>{"use strict";function Yl(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}ia.exports=Yl});var sa=N((Ly,aa)=>{"use strict";var Xl=br(),Zl=hn();function _t(e,t,r){this.main=e,this.fn=t,this.recommendFn=r,this.lastResults=null,this.lastRecommendResults=null}Zl(_t,Xl);_t.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)};_t.prototype.getModifiedState=function(e){return this.fn(e)};_t.prototype.getModifiedRecommendState=function(e){return this.recommendFn(e)};aa.exports=_t});var Sr=N(($y,oa)=>{"use strict";function ef(e){return typeof e!="string"?e:String(e).replace(/^-/,"\\-")}function tf(e){return typeof e!="string"?e:e.replace(/^\\-/,"-")}oa.exports={escapeFacetValue:ef,unescapeFacetValue:tf}});var jt=N((Wy,ca)=>{"use strict";function rf(e){return typeof e=="object"&&e!==null?mn(Array.isArray(e)?[]:{},e):e}function Or(e){return typeof e=="function"||Array.isArray(e)||Object.prototype.toString.call(e)==="[object Object]"}function mn(e,t){if(e===t)return e;for(var r in t)if(!(!Object.prototype.hasOwnProperty.call(t,r)||r==="__proto__"||r==="constructor")){var n=t[r],i=e[r];typeof i<"u"&&typeof n>"u"||(Or(i)&&Or(n)?e[r]=mn(i,n):e[r]=rf(n))}return e}function nf(e){Or(e)||(e={});for(var t=1,r=arguments.length;t<r;t++){var n=arguments[t];Or(n)&&mn(e,n)}return e}ca.exports=nf});var wr=N((ky,ua)=>{"use strict";function af(e){return e&&Object.keys(e).length>0}ua.exports=af});var Pr=N((Uy,la)=>{"use strict";function sf(e,t){if(e===null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}la.exports=sf});var pn=N((My,fa)=>{"use strict";function Et(e){e=e||{},this.params=e.params||[]}Et.prototype={constructor:Et,addParams:function(e){var t=this.params.slice();return t.push(e),new Et({params:t})},removeParams:function(e){return new Et({params:this.params.filter(function(t){return t.$$id!==e})})},addFrequentlyBoughtTogether:function(e){return this.addParams(Object.assign({},e,{model:"bought-together"}))},addRelatedProducts:function(e){return this.addParams(Object.assign({},e,{model:"related-products"}))},addTrendingItems:function(e){return this.addParams(Object.assign({},e,{model:"trending-items"}))},addTrendingFacets:function(e){return this.addParams(Object.assign({},e,{model:"trending-facets"}))},addLookingSimilar:function(e){return this.addParams(Object.assign({},e,{model:"looking-similar"}))},_buildQueries:function(e,t){return this.params.filter(function(r){return t[r.$$id]===void 0}).map(function(r){var n=Object.assign({},r,{indexName:e,threshold:r.threshold||0});return delete n.$$id,n})}};fa.exports=Et});var vn=N((Qy,da)=>{"use strict";function gn(e,t){this._state=e,this._rawResults={};var r=this;e.params.forEach(function(n){var i=n.$$id;r[i]=t[i],r._rawResults[i]=t[i]})}gn.prototype={constructor:gn};da.exports=gn});var ma=N((qy,ha)=>{"use strict";var yn=jt();function bn(e){return Object.keys(e).sort().reduce(function(t,r){return t[r]=e[r],t},{})}var fe={_getQueries:function(t,r){var n=[];return n.push({indexName:t,params:fe._getHitsSearchParams(r)}),r.getRefinedDisjunctiveFacets().forEach(function(i){n.push({indexName:t,params:fe._getDisjunctiveFacetSearchParams(r,i)})}),r.getRefinedHierarchicalFacets().forEach(function(i){var a=r.getHierarchicalFacetByName(i),s=r.getHierarchicalRefinement(i),c=r._getHierarchicalFacetSeparator(a);if(s.length>0&&s[0].split(c).length>1){var u=s[0].split(c).slice(0,-1).reduce(function(l,f,d){return l.concat({attribute:a.attributes[d],value:d===0?f:[l[l.length-1].value,f].join(c)})},[]);u.forEach(function(o,l){var f=fe._getDisjunctiveFacetSearchParams(r,o.attribute,l===0);function d(m){return a.attributes.some(function(g){return g===m.split(":")[0]})}var h=(f.facetFilters||[]).reduce(function(m,g){if(Array.isArray(g)){var y=g.filter(function(v){return!d(v)});y.length>0&&m.push(y)}return typeof g=="string"&&!d(g)&&m.push(g),m},[]),p=u[l-1];l>0?f.facetFilters=h.concat(p.attribute+":"+p.value):h.length>0?f.facetFilters=h:delete f.facetFilters,n.push({indexName:t,params:f})})}}),n},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(fe._getHitsHierarchicalFacetsAttributes(e)).sort(),r=fe._getFacetFilters(e),n=fe._getNumericFilters(e),i=fe._getTagFilters(e),a={};return t.length>0&&(a.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(a.tagFilters=i),r.length>0&&(a.facetFilters=r),n.length>0&&(a.numericFilters=n),bn(yn({},e.getQueryParams(),a))},_getDisjunctiveFacetSearchParams:function(e,t,r){var n=fe._getFacetFilters(e,t,r),i=fe._getNumericFilters(e,t),a=fe._getTagFilters(e),s={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};a.length>0&&(s.tagFilters=a);var c=e.getHierarchicalFacetByName(t);return c?s.facets=fe._getDisjunctiveHierarchicalFacetAttribute(e,c,r):s.facets=t,i.length>0&&(s.numericFilters=i),n.length>0&&(s.facetFilters=n),bn(yn({},e.getQueryParams(),s))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var r=[];return Object.keys(e.numericRefinements).forEach(function(n){var i=e.numericRefinements[n]||{};Object.keys(i).forEach(function(a){var s=i[a]||[];t!==n&&s.forEach(function(c){if(Array.isArray(c)){var u=c.map(function(o){return n+a+o});r.push(u)}else r.push(n+a+c)})})}),r},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,r){var n=[],i=e.facetsRefinements||{};Object.keys(i).sort().forEach(function(u){var o=i[u]||[];o.slice().sort().forEach(function(l){n.push(u+":"+l)})});var a=e.facetsExcludes||{};Object.keys(a).sort().forEach(function(u){var o=a[u]||[];o.sort().forEach(function(l){n.push(u+":-"+l)})});var s=e.disjunctiveFacetsRefinements||{};Object.keys(s).sort().forEach(function(u){var o=s[u]||[];if(!(u===t||!o||o.length===0)){var l=[];o.slice().sort().forEach(function(f){l.push(u+":"+f)}),n.push(l)}});var c=e.hierarchicalFacetsRefinements||{};return Object.keys(c).sort().forEach(function(u){var o=c[u]||[],l=o[0];if(l!==void 0){var f=e.getHierarchicalFacetByName(u),d=e._getHierarchicalFacetSeparator(f),h=e._getHierarchicalRootPath(f),p,m;if(t===u){if(l.indexOf(d)===-1||!h&&r===!0||h&&h.split(d).length===l.split(d).length)return;h?(m=h.split(d).length-1,l=h):(m=l.split(d).length-2,l=l.slice(0,l.lastIndexOf(d))),p=f.attributes[m]}else m=l.split(d).length-1,p=f.attributes[m];p&&n.push([p+":"+l])}}),n},_getHitsHierarchicalFacetsAttributes:function(e){var t=[];return e.hierarchicalFacets.reduce(function(n,i){var a=e.getHierarchicalRefinement(i.name)[0];if(!a)return n.push(i.attributes[0]),n;var s=e._getHierarchicalFacetSeparator(i),c=a.split(s).length,u=i.attributes.slice(0,c+1);return n.concat(u)},t)},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,r){var n=e._getHierarchicalFacetSeparator(t);if(r===!0){var i=e._getHierarchicalRootPath(t),a=0;return i&&(a=i.split(n).length),[t.attributes[a]]}var s=e.getHierarchicalRefinement(t.name)[0]||"",c=s.split(n).length-1;return t.attributes.slice(0,c+1)},getSearchForFacetQuery:function(e,t,r,n){var i=n.isDisjunctiveFacet(e)?n.clearRefinements(e):n,a={facetQuery:t,facetName:e};return typeof r=="number"&&(a.maxFacetHits=r),bn(yn({},fe._getHitsSearchParams(i),a))}};ha.exports=fe});var Rr=N((By,pa)=>{"use strict";pa.exports=function(){var t=Array.prototype.slice.call(arguments);return t.reduceRight(function(r,n){return Object.keys(Object(n)).forEach(function(i){n[i]!==void 0&&(r[i]!==void 0&&delete r[i],r[i]=n[i])}),r},{})}});var ot=N((Vy,ga)=>{"use strict";ga.exports=function(t,r){if(Array.isArray(t)){for(var n=0;n<t.length;n++)if(r(t[n]))return t[n]}}});var ya=N((Ky,va)=>{"use strict";function of(e,t){return e.filter(function(r,n){return t.indexOf(r)>-1&&e.indexOf(r)===n})}va.exports=of});var Oa=N((zy,Sa)=>{"use strict";function ba(e){if(typeof e=="number")return e;if(typeof e=="string")return parseFloat(e);if(Array.isArray(e))return e.map(ba);throw new Error("The value should be a number, a parsable string or an array of those.")}Sa.exports=ba});var Pa=N((Jy,wa)=>{"use strict";wa.exports=function(t){return t===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(t)}});var xa=N((Gy,Ra)=>{"use strict";var cf=Rr(),uf=wr(),lf=Pr(),Ye={addRefinement:function(t,r,n){if(Ye.isRefined(t,r,n))return t;var i=""+n,a=t[r]?t[r].concat(i):[i],s={};return s[r]=a,cf({},s,t)},removeRefinement:function(t,r,n){if(n===void 0)return Ye.clearRefinement(t,function(a,s){return r===s});var i=""+n;return Ye.clearRefinement(t,function(a,s){return r===s&&i===a})},toggleRefinement:function(t,r,n){if(n===void 0)throw new Error("toggleRefinement should be used with a value");return Ye.isRefined(t,r,n)?Ye.removeRefinement(t,r,n):Ye.addRefinement(t,r,n)},clearRefinement:function(t,r,n){if(r===void 0)return uf(t)?{}:t;if(typeof r=="string")return lf(t,[r]);if(typeof r=="function"){var i=!1,a=Object.keys(t).reduce(function(s,c){var u=t[c]||[],o=u.filter(function(l){return!r(l,c,n)});return o.length!==u.length&&(i=!0),s[c]=o,s},{});return i?a:t}},isRefined:function(t,r,n){var i=Boolean(t[r])&&t[r].length>0;if(n===void 0||!i)return i;var a=""+n;return t[r].indexOf(a)!==-1}};Ra.exports=Ye});var xn=N((Yy,Fa)=>{"use strict";var Sn=Rr(),Ea=ot(),_a=ya(),wn=jt(),Pn=wr(),ja=Pr(),On=Oa(),ff=Pa(),V=xa();function Rn(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(r,n){return Rn(t[n],r)}):e===t}function df(e,t){return Ea(e,function(r){return Rn(r,t)})}function ce(e){var t=e?ce._parseNumbers(e):{};t.userToken!==void 0&&!ff(t.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var r=this;Object.keys(t).forEach(function(n){var i=ce.PARAMETERS.indexOf(n)!==-1,a=t[n]!==void 0;!i&&a&&(r[n]=t[n])})}ce.PARAMETERS=Object.keys(new ce);ce._parseNumbers=function(e){if(e instanceof ce)return e;var t={},r=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(r.forEach(function(i){var a=e[i];if(typeof a=="string"){var s=parseFloat(a);t[i]=isNaN(s)?a:s}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(i){return Array.isArray(i)?i.map(function(a){return parseFloat(a)}):i})),e.numericRefinements){var n={};Object.keys(e.numericRefinements).forEach(function(i){var a=e.numericRefinements[i]||{};n[i]={},Object.keys(a).forEach(function(s){var c=a[s],u=c.map(function(o){return Array.isArray(o)?o.map(function(l){return typeof l=="string"?parseFloat(l):l}):typeof o=="string"?parseFloat(o):o});n[i][s]=u})}),t.numericRefinements=n}return wn(e,t)};ce.make=function(t){var r=new ce(t),n=t.hierarchicalFacets||[];return n.forEach(function(i){if(i.rootPath){var a=r.getHierarchicalRefinement(i.name);a.length>0&&a[0].indexOf(i.rootPath)!==0&&(r=r.clearRefinements(i.name)),a=r.getHierarchicalRefinement(i.name),a.length===0&&(r=r.toggleHierarchicalFacetRefinement(i.name,i.rootPath))}}),r};ce.validate=function(e,t){var r=t||{};return e.tagFilters&&r.tagRefinements&&r.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&r.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&r.numericRefinements&&Pn(r.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):Pn(e.numericRefinements)&&r.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null};ce.prototype={constructor:ce,clearRefinements:function(t){var r={numericRefinements:this._clearNumericRefinements(t),facetsRefinements:V.clearRefinement(this.facetsRefinements,t,"conjunctiveFacet"),facetsExcludes:V.clearRefinement(this.facetsExcludes,t,"exclude"),disjunctiveFacetsRefinements:V.clearRefinement(this.disjunctiveFacetsRefinements,t,"disjunctiveFacet"),hierarchicalFacetsRefinements:V.clearRefinement(this.hierarchicalFacetsRefinements,t,"hierarchicalFacet")};return r.numericRefinements===this.numericRefinements&&r.facetsRefinements===this.facetsRefinements&&r.facetsExcludes===this.facetsExcludes&&r.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&r.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(r)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(t){return t===this.index?this:this.setQueryParameters({index:t})},setQuery:function(t){return t===this.query?this:this.setQueryParameters({query:t})},setPage:function(t){return t===this.page?this:this.setQueryParameters({page:t})},setFacets:function(t){return this.setQueryParameters({facets:t})},setDisjunctiveFacets:function(t){return this.setQueryParameters({disjunctiveFacets:t})},setHitsPerPage:function(t){return this.hitsPerPage===t?this:this.setQueryParameters({hitsPerPage:t})},setTypoTolerance:function(t){return this.typoTolerance===t?this:this.setQueryParameters({typoTolerance:t})},addNumericRefinement:function(e,t,r){var n=On(r);if(this.isNumericRefined(e,t,n))return this;var i=wn({},this.numericRefinements);return i[e]=wn({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(n)):i[e][t]=[n],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsRefinements[e]||[]:[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)?this.disjunctiveFacetsRefinements[e]||[]:[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsExcludes[e]||[]:[]},removeNumericRefinement:function(e,t,r){var n=r;return n!==void 0?this.isNumericRefined(e,t,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,a){return a===e&&i.op===t&&Rn(i.val,On(n))})}):this:t!==void 0?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,a){return a===e&&i.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,a){return a===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(t){if(t===void 0)return Pn(this.numericRefinements)?{}:this.numericRefinements;if(typeof t=="string")return ja(this.numericRefinements,[t]);if(typeof t=="function"){var r=!1,n=this.numericRefinements,i=Object.keys(n).reduce(function(a,s){var c=n[s],u={};return c=c||{},Object.keys(c).forEach(function(o){var l=c[o]||[],f=[];l.forEach(function(d){var h=t({val:d,op:o},s,"numeric");h||f.push(d)}),f.length!==l.length&&(r=!0),u[o]=f}),a[s]=u,a},{});return r?i:this.numericRefinements}},addFacet:function(t){return this.isConjunctiveFacet(t)?this:this.setQueryParameters({facets:this.facets.concat([t])})},addDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([t])})},addHierarchicalFacet:function(t){if(this.isHierarchicalFacet(t.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+t.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([t])})},addFacetRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return V.isRefined(this.facetsRefinements,t,r)?this:this.setQueryParameters({facetsRefinements:V.addRefinement(this.facetsRefinements,t,r)})},addExcludeRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return V.isRefined(this.facetsExcludes,t,r)?this:this.setQueryParameters({facetsExcludes:V.addRefinement(this.facetsExcludes,t,r)})},addDisjunctiveFacetRefinement:function(t,r){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return V.isRefined(this.disjunctiveFacetsRefinements,t,r)?this:this.setQueryParameters({disjunctiveFacetsRefinements:V.addRefinement(this.disjunctiveFacetsRefinements,t,r)})},addTagRefinement:function(t){if(this.isTagRefined(t))return this;var r={tagRefinements:this.tagRefinements.concat(t)};return this.setQueryParameters(r)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter(function(r){return r!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(r){return r!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(r){return r.name!==t})}):this},removeFacetRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return V.isRefined(this.facetsRefinements,t,r)?this.setQueryParameters({facetsRefinements:V.removeRefinement(this.facetsRefinements,t,r)}):this},removeExcludeRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return V.isRefined(this.facetsExcludes,t,r)?this.setQueryParameters({facetsExcludes:V.removeRefinement(this.facetsExcludes,t,r)}):this},removeDisjunctiveFacetRefinement:function(t,r){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return V.isRefined(this.disjunctiveFacetsRefinements,t,r)?this.setQueryParameters({disjunctiveFacetsRefinements:V.removeRefinement(this.disjunctiveFacetsRefinements,t,r)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var r={tagRefinements:this.tagRefinements.filter(function(n){return n!==t})};return this.setQueryParameters(r)},toggleRefinement:function(t,r){return this.toggleFacetRefinement(t,r)},toggleFacetRefinement:function(t,r){if(this.isHierarchicalFacet(t))return this.toggleHierarchicalFacetRefinement(t,r);if(this.isConjunctiveFacet(t))return this.toggleConjunctiveFacetRefinement(t,r);if(this.isDisjunctiveFacet(t))return this.toggleDisjunctiveFacetRefinement(t,r);throw new Error("Cannot refine the undeclared facet "+t+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:V.toggleRefinement(this.facetsRefinements,t,r)})},toggleExcludeFacetRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:V.toggleRefinement(this.facetsExcludes,t,r)})},toggleDisjunctiveFacetRefinement:function(t,r){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:V.toggleRefinement(this.disjunctiveFacetsRefinements,t,r)})},toggleHierarchicalFacetRefinement:function(t,r){if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),i={},a=this.hierarchicalFacetsRefinements[t]!==void 0&&this.hierarchicalFacetsRefinements[t].length>0&&(this.hierarchicalFacetsRefinements[t][0]===r||this.hierarchicalFacetsRefinements[t][0].indexOf(r+n)===0);return a?r.indexOf(n)===-1?i[t]=[]:i[t]=[r.slice(0,r.lastIndexOf(n))]:i[t]=[r],this.setQueryParameters({hierarchicalFacetsRefinements:Sn({},i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var r={};return r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:Sn({},r,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:Sn({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(t){return this.isTagRefined(t)?this.removeTagRefinement(t):this.addTagRefinement(t)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return this.getHierarchicalFacetByName(e)!==void 0},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(t,r){return this.isConjunctiveFacet(t)?V.isRefined(this.facetsRefinements,t,r):!1},isExcludeRefined:function(t,r){return this.isConjunctiveFacet(t)?V.isRefined(this.facetsExcludes,t,r):!1},isDisjunctiveFacetRefined:function(t,r){return this.isDisjunctiveFacet(t)?V.isRefined(this.disjunctiveFacetsRefinements,t,r):!1},isHierarchicalFacetRefined:function(t,r){if(!this.isHierarchicalFacet(t))return!1;var n=this.getHierarchicalRefinement(t);return r?n.indexOf(r)!==-1:n.length>0},isNumericRefined:function(t,r,n){if(n===void 0&&r===void 0)return Boolean(this.numericRefinements[t]);var i=this.numericRefinements[t]&&this.numericRefinements[t][r]!==void 0;if(n===void 0||!i)return i;var a=On(n),s=df(this.numericRefinements[t][r],a)!==void 0;return i&&s},isTagRefined:function(t){return this.tagRefinements.indexOf(t)!==-1},getRefinedDisjunctiveFacets:function(){var t=this,r=_a(Object.keys(this.numericRefinements).filter(function(n){return Object.keys(t.numericRefinements[n]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(n){return t.disjunctiveFacetsRefinements[n].length>0}).concat(r).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var t=this;return _a(this.hierarchicalFacets.map(function(r){return r.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(r){return t.hierarchicalFacetsRefinements[r].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return e.indexOf(t)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var t=this.managedParameters,r={},n=this;return Object.keys(this).forEach(function(i){var a=n[i];t.indexOf(i)===-1&&a!==void 0&&(r[i]=a)}),r},setQueryParameter:function(t,r){if(this[t]===r)return this;var n={};return n[t]=r,this.setQueryParameters(n)},setQueryParameters:function(t){if(!t)return this;var r=ce.validate(this,t);if(r)throw r;var n=this,i=ce._parseNumbers(t),a=Object.keys(this).reduce(function(c,u){return c[u]=n[u],c},{}),s=Object.keys(i).reduce(function(c,u){var o=c[u]!==void 0,l=i[u]!==void 0;return o&&!l?ja(c,[u]):(l&&(c[u]=i[u]),c)},a);return new this.constructor(s)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return typeof e.showParentLevel=="boolean"?e.showParentLevel:!0},getHierarchicalFacetByName:function(e){return Ea(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n=t.split(r);return n.map(function(i){return i.trim()})},toString:function(){return JSON.stringify(this,null,2)}};Fa.exports=ce});var Ta=N((Xy,Ia)=>{"use strict";Ia.exports=function(t){return Array.isArray(t)?t.filter(Boolean):[]}});var Na=N((Zy,Aa)=>{"use strict";Aa.exports=function(t,r){if(!Array.isArray(t))return-1;for(var n=0;n<t.length;n++)if(r(t[n]))return n;return-1}});var _n=N((eb,Ca)=>{"use strict";var hf=ot();Ca.exports=function(t,r){var n=(r||[]).map(function(i){return i.split(":")});return t.reduce(function(a,s){var c=s.split(":"),u=hf(n,function(o){return o[0]===c[0]});return c.length>1||!u?(a[0].push(c[0]),a[1].push(c[1]),a):(a[0].push(u[0]),a[1].push(u[1]),a)},[[],[]])}});var jn=N((tb,Da)=>{"use strict";function mf(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=t!==void 0,a=t===null;if(!a&&e>t||n&&i||!r)return 1;if(!n&&e<t||a&&r||!i)return-1}return 0}function pf(e,t,r){if(!Array.isArray(e))return[];Array.isArray(r)||(r=[]);var n=e.map(function(i,a){return{criteria:t.map(function(s){return i[s]}),index:a,value:i}});return n.sort(function(a,s){for(var c=-1;++c<a.criteria.length;){var u=mf(a.criteria[c],s.criteria[c]);if(u)return c>=r.length?u:r[c]==="desc"?-u:u}return a.index-s.index}),n.map(function(i){return i.value})}Da.exports=pf});var $a=N((rb,La)=>{"use strict";La.exports=Of;var Ha=Sr(),gf=ot(),vf=_n(),yf=jn(),bf=Ha.escapeFacetValue,Sf=Ha.unescapeFacetValue;function Of(e){return function(r,n){var i=e.hierarchicalFacets[n],a=e.hierarchicalFacetsRefinements[i.name]&&e.hierarchicalFacetsRefinements[i.name][0]||"",s=e._getHierarchicalFacetSeparator(i),c=e._getHierarchicalRootPath(i),u=e._getHierarchicalShowParentLevel(i),o=vf(e._getHierarchicalFacetSortBy(i)),l=r.every(function(h){return h.exhaustive}),f=wf(o,s,c,u,a),d=r;return c&&(d=r.slice(c.split(s).length)),d.reduce(f,{name:e.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:l,data:null})}}function wf(e,t,r,n,i){return function(s,c,u){var o=s;if(u>0){var l=0;for(o=s;l<u;){var f=o&&Array.isArray(o.data)?o.data:[];o=gf(f,function(h){return h.isRefined}),l++}}if(o){var d=Object.keys(c.data).map(function(h){return[h,c.data[h]]}).filter(function(h){var p=h[0];return Pf(p,o.path||r,i,t,r,n)});o.data=yf(d.map(function(h){var p=h[0],m=h[1];return Rf(m,p,t,Sf(i),c.exhaustive)}),e[0],e[1])}return s}}function Pf(e,t,r,n,i,a){return i&&(e.indexOf(i)!==0||i===e)?!1:!i&&e.indexOf(n)===-1||i&&e.split(n).length-i.split(n).length===1||e.indexOf(n)===-1&&r.indexOf(n)===-1||r.indexOf(e)===0||e.indexOf(t+n)===0&&(a||e.indexOf(r)===0)}function Rf(e,t,r,n,i){var a=t.split(r);return{name:a[a.length-1].trim(),path:t,escapedValue:bf(t),count:e,isRefined:n===t||n.indexOf(t+r)===0,exhaustive:i,data:null}}});var Tn=N((nb,za)=>{"use strict";var En=Ta(),xr=Rr(),Qa=Sr(),Oe=ot(),Ft=Na(),xf=_n(),Wa=jt(),qa=jn(),ka=Qa.escapeFacetValue,Ba=Qa.unescapeFacetValue,_f=$a();function Ua(e){var t={};return e.forEach(function(r,n){t[r]=n}),t}function Fn(e,t,r){t&&t[r]&&(e.stats=t[r])}function jf(e,t){return Oe(e,function(n){var i=n.attributes||[];return i.indexOf(t)>-1})}function Le(e,t,r){var n=t[0]||{};this._rawResults=t;var i=this;Object.keys(n).forEach(function(f){i[f]=n[f]});var a=Wa({persistHierarchicalRootCount:!1},r);Object.keys(a).forEach(function(f){i[f]=a[f]}),this.processingTimeMS=t.reduce(function(f,d){return d.processingTimeMS===void 0?f:f+d.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[];var s=e.getRefinedDisjunctiveFacets(),c=Ua(e.facets),u=Ua(e.disjunctiveFacets),o=1,l=n.facets||{};Object.keys(l).forEach(function(f){var d=l[f],h=jf(e.hierarchicalFacets,f);if(h){var p=h.attributes.indexOf(f),m=Ft(e.hierarchicalFacets,function(b){return b.name===h.name});i.hierarchicalFacets[m][p]={attribute:f,data:d,exhaustive:n.exhaustiveFacetsCount}}else{var g=e.disjunctiveFacets.indexOf(f)!==-1,y=e.facets.indexOf(f)!==-1,v;g&&(v=u[f],i.disjunctiveFacets[v]={name:f,data:d,exhaustive:n.exhaustiveFacetsCount},Fn(i.disjunctiveFacets[v],n.facets_stats,f)),y&&(v=c[f],i.facets[v]={name:f,data:d,exhaustive:n.exhaustiveFacetsCount},Fn(i.facets[v],n.facets_stats,f))}}),this.hierarchicalFacets=En(this.hierarchicalFacets),s.forEach(function(f){var d=t[o],h=d&&d.facets?d.facets:{},p=e.getHierarchicalFacetByName(f);Object.keys(h).forEach(function(m){var g=h[m],y;if(p){y=Ft(e.hierarchicalFacets,function(S){return S.name===p.name});var v=Ft(i.hierarchicalFacets[y],function(S){return S.attribute===m});if(v===-1)return;i.hierarchicalFacets[y][v].data=Wa({},i.hierarchicalFacets[y][v].data,g)}else{y=u[m];var b=n.facets&&n.facets[m]||{};i.disjunctiveFacets[y]={name:m,data:xr({},g,b),exhaustive:d.exhaustiveFacetsCount},Fn(i.disjunctiveFacets[y],d.facets_stats,m),e.disjunctiveFacetsRefinements[m]&&e.disjunctiveFacetsRefinements[m].forEach(function(S){!i.disjunctiveFacets[y].data[S]&&e.disjunctiveFacetsRefinements[m].indexOf(Ba(S))>-1&&(i.disjunctiveFacets[y].data[S]=0)})}}),o++}),e.getRefinedHierarchicalFacets().forEach(function(f){var d=e.getHierarchicalFacetByName(f),h=e._getHierarchicalFacetSeparator(d),p=e.getHierarchicalRefinement(f);p.length===0||p[0].split(h).length<2||t.slice(o).forEach(function(m){var g=m&&m.facets?m.facets:{};Object.keys(g).forEach(function(y){var v=g[y],b=Ft(e.hierarchicalFacets,function(F){return F.name===d.name}),S=Ft(i.hierarchicalFacets[b],function(F){return F.attribute===y});if(S!==-1){var P={};if(p.length>0&&!i.persistHierarchicalRootCount){var _=p[0].split(h)[0];P[_]=i.hierarchicalFacets[b][S].data[_]}i.hierarchicalFacets[b][S].data=xr(P,v,i.hierarchicalFacets[b][S].data)}}),o++})}),Object.keys(e.facetsExcludes).forEach(function(f){var d=e.facetsExcludes[f],h=c[f];i.facets[h]={name:f,data:l[f],exhaustive:n.exhaustiveFacetsCount},d.forEach(function(p){i.facets[h]=i.facets[h]||{name:f},i.facets[h].data=i.facets[h].data||{},i.facets[h].data[p]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(_f(e)),this.facets=En(this.facets),this.disjunctiveFacets=En(this.disjunctiveFacets),this._state=e}Le.prototype.getFacetByName=function(e){function t(r){return r.name===e}return Oe(this.facets,t)||Oe(this.disjunctiveFacets,t)||Oe(this.hierarchicalFacets,t)};function Ef(e,t){function r(l){return l.name===t}if(e._state.isConjunctiveFacet(t)){var n=Oe(e.facets,r);return n?Object.keys(n.data).map(function(l){var f=ka(l);return{name:l,escapedValue:f,count:n.data[l],isRefined:e._state.isFacetRefined(t,f),isExcluded:e._state.isExcludeRefined(t,l)}}):[]}else if(e._state.isDisjunctiveFacet(t)){var i=Oe(e.disjunctiveFacets,r);return i?Object.keys(i.data).map(function(l){var f=ka(l);return{name:l,escapedValue:f,count:i.data[l],isRefined:e._state.isDisjunctiveFacetRefined(t,f)}}):[]}else if(e._state.isHierarchicalFacet(t)){var a=Oe(e.hierarchicalFacets,r);if(!a)return a;var s=e._state.getHierarchicalFacetByName(t),c=e._state._getHierarchicalFacetSeparator(s),u=Ba(e._state.getHierarchicalRefinement(t)[0]||"");u.indexOf(s.rootPath)===0&&(u=u.replace(s.rootPath+c,""));var o=u.split(c);return o.unshift(t),Va(a,o,0),a}}function Va(e,t,r){e.isRefined=e.name===(t[r]&&t[r].trim()),e.data&&e.data.forEach(function(n){Va(n,t,r+1)})}function Ka(e,t,r,n){if(n=n||0,Array.isArray(t))return e(t,r[n]);if(!t.data||t.data.length===0)return t;var i=t.data.map(function(c){return Ka(e,c,r,n+1)}),a=e(i,r[n]),s=xr({data:a},t);return s}Le.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function Ff(e,t){return t.sort(e)}function If(e,t){var r=[],n=[],i=t.hide||[],a=t.order||[],s=a.reduce(function(o,l,f){return o[l]=f,o},{});e.forEach(function(o){var l=o.path||o.name,f=i.indexOf(l)>-1;!f&&s[l]!==void 0?r[s[l]]=o:f||n.push(o)}),r=r.filter(function(o){return o});var c=t.sortRemainingBy,u;return c==="hidden"?r:(c==="alpha"?u=[["path","name"],["asc","asc"]]:u=[["count"],["desc"]],r.concat(qa(n,u[0],u[1])))}function Tf(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}Le.prototype.getFacetValues=function(e,t){var r=Ef(this,e);if(r){var n=xr({},t,{sortBy:Le.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),i=this,a;if(Array.isArray(r))a=[e];else{var s=i._state.getHierarchicalFacetByName(r.name);a=s.attributes}return Ka(function(c,u){if(n.facetOrdering){var o=Tf(i,u);if(o)return If(c,o)}if(Array.isArray(n.sortBy)){var l=xf(n.sortBy,Le.DEFAULT_SORT);return qa(c,l[0],l[1])}else if(typeof n.sortBy=="function")return Ff(n.sortBy,c);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},r,a)}};Le.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return Ma(this.facets,e);if(this._state.isDisjunctiveFacet(e))return Ma(this.disjunctiveFacets,e)};function Ma(e,t){var r=Oe(e,function(n){return n.name===t});return r&&r.stats}Le.prototype.getRefinements=function(){var e=this._state,t=this,r=[];return Object.keys(e.facetsRefinements).forEach(function(n){e.facetsRefinements[n].forEach(function(i){r.push(In(e,"facet",n,i,t.facets))})}),Object.keys(e.facetsExcludes).forEach(function(n){e.facetsExcludes[n].forEach(function(i){r.push(In(e,"exclude",n,i,t.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(n){e.disjunctiveFacetsRefinements[n].forEach(function(i){r.push(In(e,"disjunctive",n,i,t.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(n){e.hierarchicalFacetsRefinements[n].forEach(function(i){r.push(Af(e,n,i,t.hierarchicalFacets))})}),Object.keys(e.numericRefinements).forEach(function(n){var i=e.numericRefinements[n];Object.keys(i).forEach(function(a){i[a].forEach(function(s){r.push({type:"numeric",attributeName:n,name:s,numericValue:s,operator:a})})})}),e.tagRefinements.forEach(function(n){r.push({type:"tag",attributeName:"_tags",name:n})}),r};function In(e,t,r,n,i){var a=Oe(i,function(u){return u.name===r}),s=a&&a.data&&a.data[n]?a.data[n]:0,c=a&&a.exhaustive||!1;return{type:t,attributeName:r,name:n,count:s,exhaustive:c}}function Af(e,t,r,n){var i=e.getHierarchicalFacetByName(t),a=e._getHierarchicalFacetSeparator(i),s=r.split(a),c=Oe(n,function(d){return d.name===t}),u=s.reduce(function(d,h){var p=d&&Oe(d.data,function(m){return m.name===h});return p!==void 0?p:d},c),o=u&&u.count||0,l=u&&u.exhaustive||!1,f=u&&u.path||"";return{type:"hierarchical",attributeName:t,name:f,count:o,exhaustive:l}}za.exports=Le});var Ga=N((ib,Ja)=>{Ja.exports=function(t){return t.reduce(function(r,n){return r.concat(n)},[])}});var Xa=N((ab,Ya)=>{"use strict";var Nf=ot(),Cf=Ga();function Df(e,t){var r=[];return Object.keys(e).forEach(function(n){e[n].count<2&&(e[n].indexSum+=100),r.push({objectID:n,avgOfIndices:e[n].indexSum/t})}),r.sort(function(n,i){return n.avgOfIndices>i.avgOfIndices?1:-1})}function Hf(e){var t={};e.forEach(function(i){i.forEach(function(a,s){t[a.objectID]?t[a.objectID]={indexSum:t[a.objectID].indexSum+s,count:t[a.objectID].count+1}:t[a.objectID]={indexSum:s,count:1}})});var r=Df(t,e.length),n=r.reduce(function(i,a){var s=Nf(Cf(e),function(c){return c.objectID===a.objectID});return s?i.concat(s):i},[]);return n}Ya.exports=Hf});var An=N((sb,Za)=>{"use strict";Za.exports="3.22.5"});var as=N((ob,is)=>{"use strict";var Lf=br(),$f=sa(),Wf=Sr().escapeFacetValue,kf=hn(),Uf=jt(),Mf=wr(),Qf=Pr(),es=pn(),qf=vn(),ct=ma(),Cn=xn(),Nn=Tn(),Bf=Xa(),ts=An();function O(e,t,r,n){typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+ts+")"),this.setClient(e);var i=r||{};i.index=t,this.state=Cn.make(i),this.recommendState=new es({params:i.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=n,this._recommendCache={}}kf(O,Lf);O.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this};O.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this};O.prototype.recommend=function(){return this._recommend(),this};O.prototype.getQuery=function(){var e=this.state;return ct._getHitsSearchParams(e)};O.prototype.searchOnce=function(e,t){var r=e?this.state.setQueryParameters(e):this.state,n=ct._getQueries(r.index,r),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:r}),t){this.client.search(n).then(function(a){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(null,new Nn(r,a.results),r)}).catch(function(a){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(a,null,r)});return}return this.client.search(n).then(function(a){return i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),{content:new Nn(r,a.results),state:r,_originalResponse:a}},function(a){throw i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),a})};O.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,r=this.derivedHelpers[0];if(!r)return Promise.resolve([]);var n=r.getModifiedState(t),i=Uf({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:Qf(ct._getHitsSearchParams(n),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),a="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(a);var s=this.client.initIndex(n.index);if(typeof s.findAnswers!="function")throw new Error(a);return s.findAnswers(n.query,e.queryLanguages,i)};O.prototype.searchForFacetValues=function(e,t,r,n){var i=typeof this.client.searchForFacetValues=="function"&&typeof this.client.searchForFacets!="function",a=typeof this.client.initIndex=="function";if(!i&&!a&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var s=this.state.setQueryParameters(n||{}),c=s.isDisjunctiveFacet(e),u=ct.getSearchForFacetQuery(e,t,r,s);this._currentNbQueries++;var o=this,l;return i?l=this.client.searchForFacetValues([{indexName:s.index,params:u}]):a?l=this.client.initIndex(s.index).searchForFacetValues(u):(delete u.facetName,l=this.client.search([{type:"facet",facet:e,indexName:s.index,params:u}]).then(function(d){return d.results[0]})),this.emit("searchForFacetValues",{state:s,facet:e,query:t}),l.then(function(d){return o._currentNbQueries--,o._currentNbQueries===0&&o.emit("searchQueueEmpty"),d=Array.isArray(d)?d[0]:d,d.facetHits.forEach(function(h){h.escapedValue=Wf(h.value),h.isRefined=c?s.isDisjunctiveFacetRefined(e,h.escapedValue):s.isFacetRefined(e,h.escapedValue)}),d},function(f){throw o._currentNbQueries--,o._currentNbQueries===0&&o.emit("searchQueueEmpty"),f})};O.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this};O.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this};O.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this};O.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};O.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)};O.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this};O.prototype.addNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,r),isPageReset:!0}),this};O.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this};O.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)};O.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this};O.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)};O.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this};O.prototype.addFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(e)}),this};O.prototype.addRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.addRelatedProducts(e)}),this};O.prototype.addTrendingItems=function(e){return this._recommendChange({state:this.recommendState.addTrendingItems(e)}),this};O.prototype.addTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.addTrendingFacets(e)}),this};O.prototype.addLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.addLookingSimilar(e)}),this};O.prototype.removeNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,r),isPageReset:!0}),this};O.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};O.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)};O.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this};O.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this};O.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)};O.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this};O.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)};O.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this};O.prototype.removeFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};O.prototype.removeRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};O.prototype.removeTrendingItems=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};O.prototype.removeTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};O.prototype.removeLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};O.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this};O.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)};O.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)};O.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this};O.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)};O.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this};O.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)};O.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)};function rs(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}O.prototype.setCurrentPage=rs;O.prototype.setPage=rs;O.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this};O.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this};O.prototype.setState=function(e){return this._change({state:Cn.make(e),isPageReset:!1}),this};O.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new Cn(e),this};O.prototype.hasRefinements=function(e){return Mf(this.state.getNumericRefinements(e))?!0:this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):this.state.isHierarchicalFacet(e)?this.state.isHierarchicalFacetRefined(e):!1};O.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)};O.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)};O.prototype.hasTag=function(e){return this.state.isTagRefined(e)};O.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)};O.prototype.getIndex=function(){return this.state.index};function ns(){return this.state.page}O.prototype.getCurrentPage=ns;O.prototype.getPage=ns;O.prototype.getTags=function(){return this.state.tagRefinements};O.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e)){var r=this.state.getConjunctiveRefinements(e);r.forEach(function(s){t.push({value:s,type:"conjunctive"})});var n=this.state.getExcludeRefinements(e);n.forEach(function(s){t.push({value:s,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var i=this.state.getDisjunctiveRefinements(e);i.forEach(function(s){t.push({value:s,type:"disjunctive"})})}var a=this.state.getNumericRefinements(e);return Object.keys(a).forEach(function(s){var c=a[s];t.push({value:c,operator:s,type:"numeric"})}),t};O.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)};O.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)};O.prototype._search=function(e){var t=this.state,r=[],n=[];e.onlyWithDerivedHelpers||(n=ct._getQueries(t.index,t),r.push({state:t,queriesCount:n.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map(function(c){var u=c.getModifiedState(t),o=u.index?ct._getQueries(u.index,u):[];return r.push({state:u,queriesCount:o.length,helper:c}),c.emit("search",{state:u,results:c.lastResults}),o}),a=Array.prototype.concat.apply(n,i),s=this._queryId++;if(this._currentNbQueries++,!a.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,r,s));try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,r,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(c){this.emit("error",{error:c})}};O.prototype._recommend=function(){var e=this.state,t=this.recommendState,r=this.getIndex(),n=[{state:t,index:r,helper:this}],i=t.params.map(function(o){return o.$$id});this.emit("fetch",{recommend:{state:t,results:this.lastRecommendResults}});var a=this._recommendCache,s=this.derivedHelpers.map(function(o){var l=o.getModifiedState(e).index;if(!l)return[];var f=o.getModifiedRecommendState(new es);return n.push({state:f,index:l,helper:o}),i=Array.prototype.concat.apply(i,f.params.map(function(d){return d.$$id})),o.emit("fetch",{recommend:{state:f,results:o.lastRecommendResults}}),f._buildQueries(l,a)}),c=Array.prototype.concat.apply(this.recommendState._buildQueries(r,a),s);if(c.length!==0){if(c.length>0&&typeof this.client.getRecommendations>"u"){console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");return}var u=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(c).then(this._dispatchRecommendResponse.bind(this,u,n,i)).catch(this._dispatchRecommendError.bind(this,u))}catch(o){this.emit("error",{error:o})}}};O.prototype._dispatchAlgoliaResponse=function(e,t,r){var n=this;if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var i=r.results.slice();e.forEach(function(a){var s=a.state,c=a.queriesCount,u=a.helper,o=i.splice(0,c);if(!s.index){u.emit("result",{results:null,state:s});return}u.lastResults=new Nn(s,o,n._searchResultsOptions),u.emit("result",{results:u.lastResults,state:s})})}};O.prototype._dispatchRecommendResponse=function(e,t,r,n){if(!(e<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty");var i=this._recommendCache,a={};r.filter(function(c){return i[c]===void 0}).forEach(function(c,u){a[c]||(a[c]=[]),a[c].push(u)}),Object.keys(a).forEach(function(c){var u=a[c],o=n.results[u[0]];if(u.length===1){i[c]=o;return}i[c]=Object.assign({},o,{hits:Bf(u.map(function(l){return n.results[l].hits}))})});var s={};r.forEach(function(c){s[c]=i[c]}),t.forEach(function(c){var u=c.state,o=c.helper;if(!c.index){o.emit("recommend:result",{results:null,state:u});return}o.lastRecommendResults=new qf(u,s),o.emit("recommend:result",{recommend:{results:o.lastRecommendResults,state:u}})})}};O.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))};O.prototype._dispatchRecommendError=function(e,t){e<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty"))};O.prototype.containsRefinement=function(e,t,r,n){return e||t.length!==0||r.length!==0||n.length!==0};O.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0};O.prototype._change=function(e){var t=e.state,r=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:r}))};O.prototype._recommendChange=function(e){var t=e.state;t!==this.recommendState&&(this.recommendState=t,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))};O.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this};O.prototype.setClient=function(e){return this.client===e?this:(typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+ts+")"),this.client=e,this)};O.prototype.getClient=function(){return this.client};O.prototype.derive=function(e,t){var r=new $f(this,e,t);return this.derivedHelpers.push(r),r};O.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(t===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)};O.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};is.exports=O});var _r=N((cb,os)=>{"use strict";var ss=as(),Vf=pn(),Kf=vn(),zf=xn(),Jf=Tn();function Xe(e,t,r,n){return new ss(e,t,r,n)}Xe.version=An();Xe.AlgoliaSearchHelper=ss;Xe.SearchParameters=zf;Xe.RecommendParameters=Vf;Xe.SearchResults=Jf;Xe.RecommendResults=Kf;os.exports=Xe});var Gr=N((UO,qo)=>{"use strict";var vm=String.prototype.replace,ym=/%20/g,ri={RFC1738:"RFC1738",RFC3986:"RFC3986"};qo.exports={default:ri.RFC3986,formatters:{RFC1738:function(e){return vm.call(e,ym,"+")},RFC3986:function(e){return String(e)}},RFC1738:ri.RFC1738,RFC3986:ri.RFC3986}});var ii=N((MO,Vo)=>{"use strict";var bm=Gr(),ni=Object.prototype.hasOwnProperty,rt=Array.isArray,Ie=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Sm=function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(rt(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},Bo=function(t,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(n[i]=t[i]);return n},Om=function e(t,r,n){if(!r)return t;if(typeof r!="object"){if(rt(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!ni.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var i=t;return rt(t)&&!rt(r)&&(i=Bo(t,n)),rt(t)&&rt(r)?(r.forEach(function(a,s){if(ni.call(t,s)){var c=t[s];c&&typeof c=="object"&&a&&typeof a=="object"?t[s]=e(c,a,n):t.push(a)}else t[s]=a}),t):Object.keys(r).reduce(function(a,s){var c=r[s];return ni.call(a,s)?a[s]=e(a[s],c,n):a[s]=c,a},i)},wm=function(t,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},t)},Pm=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Rm=function(t,r,n,i,a){if(t.length===0)return t;var s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var c="",u=0;u<s.length;++u){var o=s.charCodeAt(u);if(o===45||o===46||o===95||o===126||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||a===bm.RFC1738&&(o===40||o===41)){c+=s.charAt(u);continue}if(o<128){c=c+Ie[o];continue}if(o<2048){c=c+(Ie[192|o>>6]+Ie[128|o&63]);continue}if(o<55296||o>=57344){c=c+(Ie[224|o>>12]+Ie[128|o>>6&63]+Ie[128|o&63]);continue}u+=1,o=65536+((o&1023)<<10|s.charCodeAt(u)&1023),c+=Ie[240|o>>18]+Ie[128|o>>12&63]+Ie[128|o>>6&63]+Ie[128|o&63]}return c},xm=function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],s=a.obj[a.prop],c=Object.keys(s),u=0;u<c.length;++u){var o=c[u],l=s[o];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:s,prop:o}),n.push(l))}return Sm(r),t},_m=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},jm=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},Em=function(t,r){return[].concat(t,r)},Fm=function(t,r){if(rt(t)){for(var n=[],i=0;i<t.length;i+=1)n.push(r(t[i]));return n}return r(t)};Vo.exports={arrayToObject:Bo,assign:wm,combine:Em,compact:xm,decode:Pm,encode:Rm,isBuffer:jm,isRegExp:_m,maybeMap:Fm,merge:Om}});var Yo=N((QO,Go)=>{"use strict";var ai=ii(),Bt=Gr(),Im=Object.prototype.hasOwnProperty,Ko={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},nt=Array.isArray,Tm=String.prototype.split,Am=Array.prototype.push,Jo=function(e,t){Am.apply(e,nt(t)?t:[t])},Nm=Date.prototype.toISOString,zo=Bt.default,ee={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ai.encode,encodeValuesOnly:!1,format:zo,formatter:Bt.formatters[zo],indices:!1,serializeDate:function(t){return Nm.call(t)},skipNulls:!1,strictNullHandling:!1},Cm=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},Dm=function e(t,r,n,i,a,s,c,u,o,l,f,d,h,p){var m=t;if(typeof c=="function"?m=c(r,m):m instanceof Date?m=l(m):n==="comma"&&nt(m)&&(m=ai.maybeMap(m,function(I){return I instanceof Date?l(I):I})),m===null){if(i)return s&&!h?s(r,ee.encoder,p,"key",f):r;m=""}if(Cm(m)||ai.isBuffer(m)){if(s){var g=h?r:s(r,ee.encoder,p,"key",f);if(n==="comma"&&h){for(var y=Tm.call(String(m),","),v="",b=0;b<y.length;++b)v+=(b===0?"":",")+d(s(y[b],ee.encoder,p,"value",f));return[d(g)+"="+v]}return[d(g)+"="+d(s(m,ee.encoder,p,"value",f))]}return[d(r)+"="+d(String(m))]}var S=[];if(typeof m>"u")return S;var P;if(n==="comma"&&nt(m))P=[{value:m.length>0?m.join(",")||null:void 0}];else if(nt(c))P=c;else{var _=Object.keys(m);P=u?_.sort(u):_}for(var F=0;F<P.length;++F){var j=P[F],$=typeof j=="object"&&typeof j.value<"u"?j.value:m[j];if(!(a&&$===null)){var k=nt(m)?typeof n=="function"?n(r,j):r:r+(o?"."+j:"["+j+"]");Jo(S,e($,k,n,i,a,s,c,u,o,l,f,d,h,p))}}return S},Hm=function(t){if(!t)return ee;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||ee.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Bt.default;if(typeof t.format<"u"){if(!Im.call(Bt.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var i=Bt.formatters[n],a=ee.filter;return(typeof t.filter=="function"||nt(t.filter))&&(a=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:ee.addQueryPrefix,allowDots:typeof t.allowDots>"u"?ee.allowDots:!!t.allowDots,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:ee.charsetSentinel,delimiter:typeof t.delimiter>"u"?ee.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:ee.encode,encoder:typeof t.encoder=="function"?t.encoder:ee.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:ee.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:ee.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:ee.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:ee.strictNullHandling}};Go.exports=function(e,t){var r=e,n=Hm(t),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):nt(n.filter)&&(a=n.filter,i=a);var s=[];if(typeof r!="object"||r===null)return"";var c;t&&t.arrayFormat in Ko?c=t.arrayFormat:t&&"indices"in t?c=t.indices?"indices":"repeat":c="indices";var u=Ko[c];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var o=0;o<i.length;++o){var l=i[o];n.skipNulls&&r[l]===null||Jo(s,Dm(r[l],l,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset))}var f=s.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),f.length>0?d+f:""}});var ec=N((qO,Zo)=>{"use strict";var pt=ii(),si=Object.prototype.hasOwnProperty,Lm=Array.isArray,te={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:pt.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},$m=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},Xo=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Wm="utf8=%26%2310003%3B",km="utf8=%E2%9C%93",Um=function(t,r){var n={},i=r.ignoreQueryPrefix?t.replace(/^\?/,""):t,a=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,a),c=-1,u,o=r.charset;if(r.charsetSentinel)for(u=0;u<s.length;++u)s[u].indexOf("utf8=")===0&&(s[u]===km?o="utf-8":s[u]===Wm&&(o="iso-8859-1"),c=u,u=s.length);for(u=0;u<s.length;++u)if(u!==c){var l=s[u],f=l.indexOf("]="),d=f===-1?l.indexOf("="):f+1,h,p;d===-1?(h=r.decoder(l,te.decoder,o,"key"),p=r.strictNullHandling?null:""):(h=r.decoder(l.slice(0,d),te.decoder,o,"key"),p=pt.maybeMap(Xo(l.slice(d+1),r),function(m){return r.decoder(m,te.decoder,o,"value")})),p&&r.interpretNumericEntities&&o==="iso-8859-1"&&(p=$m(p)),l.indexOf("[]=")>-1&&(p=Lm(p)?[p]:p),si.call(n,h)?n[h]=pt.combine(n[h],p):n[h]=p}return n},Mm=function(e,t,r,n){for(var i=n?t:Xo(t,r),a=e.length-1;a>=0;--a){var s,c=e[a];if(c==="[]"&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var u=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,o=parseInt(u,10);!r.parseArrays&&u===""?s={0:i}:!isNaN(o)&&c!==u&&String(o)===u&&o>=0&&r.parseArrays&&o<=r.arrayLimit?(s=[],s[o]=i):u!=="__proto__"&&(s[u]=i)}i=s}return i},Qm=function(t,r,n,i){if(t){var a=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/,c=/(\[[^[\]]*])/g,u=n.depth>0&&s.exec(a),o=u?a.slice(0,u.index):a,l=[];if(o){if(!n.plainObjects&&si.call(Object.prototype,o)&&!n.allowPrototypes)return;l.push(o)}for(var f=0;n.depth>0&&(u=c.exec(a))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&si.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(u[1])}return u&&l.push("["+a.slice(u.index)+"]"),Mm(l,r,n,i)}},qm=function(t){if(!t)return te;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof t.charset>"u"?te.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?te.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:te.allowPrototypes,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:te.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:te.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:te.comma,decoder:typeof t.decoder=="function"?t.decoder:te.decoder,delimiter:typeof t.delimiter=="string"||pt.isRegExp(t.delimiter)?t.delimiter:te.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:te.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:te.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:te.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:te.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:te.strictNullHandling}};Zo.exports=function(e,t){var r=qm(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?Um(e,r):e,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),s=0;s<a.length;++s){var c=a[s],u=Qm(c,n[c],r,typeof e=="string");i=pt.merge(i,u,r)}return pt.compact(i)}});var rc=N((BO,tc)=>{"use strict";var Bm=Yo(),Vm=ec(),Km=Gr();tc.exports={formats:Km,parse:Vm,stringify:Bm}});var Sc=N(bc=>{"use strict";var vt=A();function vp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yp=typeof Object.is=="function"?Object.is:vp,bp=vt.useState,Sp=vt.useEffect,Op=vt.useLayoutEffect,wp=vt.useDebugValue;function Pp(e,t){var r=t(),n=bp({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Op(function(){i.value=r,i.getSnapshot=t,gi(i)&&a({inst:i})},[e,r,t]),Sp(function(){return gi(i)&&a({inst:i}),e(function(){gi(i)&&a({inst:i})})},[e]),wp(r),r}function gi(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yp(e,r)}catch{return!0}}function Rp(e,t){return t()}var xp=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Rp:Pp;bc.useSyncExternalStore=vt.useSyncExternalStore!==void 0?vt.useSyncExternalStore:xp});var wc=N((bw,Oc)=>{"use strict";Oc.exports=Sc()});var Xu=E(A(),1);var Yi=E(zi(),1),Ji=(e,t)=>({term:{[e]:t}});var vr=(e,t)=>e.find(n=>typeof n=="string"?n===t:n.attribute===t)||null,un=e=>typeof e!="string"&&!!e.nestedPath,hl=(e,t)=>{var r;let n=typeof t=="string"?t:t.attribute;return e.includes(n)?"string":((r=e.find(i=>i?.attribute===n))==null?void 0:r.type)||"string"},ml=(e,t)=>e.find(r=>typeof r=="string"?!1:r.attribute===t),Xi=e=>e.reduce((t,r)=>[...t,JSON.stringify({index:r.indexName}),`
`,JSON.stringify(r.body),`
`],[]).join(""),pl=(e,t)=>{let{params:r={}}=e,{numericFilters:n}=r;return Array.isArray(n)?n.reduce((i,a)=>{let s,c,u,o,l="",f=a.match(/([\w\.\_\-]+)\s*(\=|\!\=|\>|\>\=|\<|\<\=)\s*(-?(?:\d+(?:\.\d*)?|\.\d+))/);if(f)[s,c,u,o]=f;else{if(f=a.match(/([\w\.\_\-]+):\s*(-?(?:\d+(?:\.\d*)?|\.\d+))\s*([Tt][Oo])\s*(-?(?:\d+(?:\.\d*)?|\.\d+))/),!f)throw new Error(`Numeric filter "${a}" could not be parsed. It should either be in the format "attributeName operator operand" or "attributeName: lowerBound TO upperBound"`);[s,c,o,u,l]=f}let h=dn(t.facet_attributes||[],t.filter_attributes||[])[c],p=(g,y,v)=>{if(y==="=")return{term:{[g]:v}};if(y==="!=")return{bool:{must_not:{term:{[g]:v}}}};if(y===">")return{range:{[g]:{gt:v}}};if(y===">=")return{range:{[g]:{gte:v}}};if(y==="<")return{range:{[g]:{lt:v}}};if(y==="<=")return{range:{[g]:{lte:v}}};if(y.toUpperCase()==="TO")return{range:{[g]:{gte:v,lte:l}}}},m=[];if(h.nestedPath){let g=i.find(y=>y.nested.path===h.nestedPath);g?g.nested.query.bool.filter.push(p(h.nestedPath+"."+h.field,u,o)):m.push({nested:{path:h.nestedPath,inner_hits:{},query:{bool:{filter:[p(h.nestedPath+"."+h.field,u,o)]}}}})}else m.push(p(h.field,u,o));return[...i,...m]},[]):[]},dn=(e,t)=>[...t,...e].reduce((r,n)=>{let i=typeof n=="string"?{attribute:n,field:n,type:"string"}:n;return{...r,[i.attribute]:i}},{}),gl=(e,t)=>{let{params:r={}}=e,{facetFilters:n}=r;if(!Array.isArray(n))return[];let i=dn(t.facet_attributes||[],t.filter_attributes||[]);return n.reduce((a,s)=>{if(Array.isArray(s))return[...a,{bool:{should:s.reduce((c,u)=>{let[o,l]=u.split(":"),f=i[o];if(!f)throw new Error(`Facet "${o}" not found in configuration. Add configuration to either facet_attributes or filter_attributes.`);let d=f.field,h="filterQuery"in f&&f.filterQuery?f.filterQuery:Ji;if(un(f)){let p=c.find(m=>m.nested&&m.nested.path===f.nestedPath);return p?(p.nested.query.bool.should.push(h(`${f.nestedPath}.${f.field}`,l)),c):[...c,{nested:{inner_hits:{},path:f.nestedPath,query:{bool:{should:[h(`${f.nestedPath}.${f.field}`,l)]}}}}]}return[...c,h(d,l)]},[])}}];if(typeof s=="string"){let[c,u]=s.split(":"),o=i[c];if(!o)throw new Error(`Facet "${c}" not found in configuration. Add configuration to either facet_attributes or filter_attributes.`);let l="filterQuery"in o&&o.filterQuery?o.filterQuery:Ji;if(un(o)&&o.nestedPath){let f=a.find(d=>d.nested&&d.nested.path===o.nestedPath+".");return f?(f.nested.query.bool.should.push(l(`${o.nestedPath}.${o.field}`,u)),a):[...a,{nested:{inner_hits:{},path:o.nestedPath,query:{bool:{should:[l(`${o.nestedPath}.${o.field}`,u)]}}}}]}return[...a,l(o.field,u)]}},[])},ln=(e=[],t=[],r)=>{let n=/([\w\.\-]+)\:/gi,i=dn(e,t);return r.replace(n,(a,s)=>{if(!i[s])throw new Error(`Attribute "${s}" is not defined as an attribute in the facet or filter search settings`);if(i[s].nestedPath)throw new Error(`Attribute "${s}" is a nested field and cannot be used as a filter. Nested fields are supported in facetFilers or numericFilters.`);return i[s].field+":"})},vl=(e,t)=>{let{params:r={}}=e,{filters:n}=r;return!n||n===""?[]:[{query_string:{query:ln(t.facet_attributes,t.filter_attributes,n)}}]},yl=(e,t)=>{if(!t.geo_attribute)return[];let{params:r={}}=e,{aroundLatLng:n,aroundRadius:i,insideBoundingBox:a}=r;if(a)return[bl(a,t.geo_attribute)];if(n){let s=n.split(",");return[{geo_distance:{distance:i||"1000m",[t.geo_attribute]:{lat:s[0],lon:s[1]}}}]}return[]};function bl(e,t){let r=(n,i,a,s)=>({geo_bounding_box:{[t]:{top_right:{lat:n,lon:i},bottom_left:{lat:a,lon:s}}}});if(typeof e=="string"){let[n,i,a,s]=e.split(",");return r(parseFloat(n),parseFloat(i),parseFloat(a),parseFloat(s))}else if(Array.isArray(e))return{bool:{should:e.map(i=>{let[a,s,c,u]=i;return r(parseFloat(a),parseFloat(s),parseFloat(c),parseFloat(u))})}}}function Sl(e,t){if(t.sorting&&Object.keys(t.sorting).length>0){let r=Object.keys(t.sorting).find(i=>{if(e.indexName.endsWith(i))return!0});if(!r&&!t.sorting.default)return{};let n=r?t.sorting[r]:t.sorting.default;return Array.isArray(n)?{sort:n.map(i=>({[i.field]:i.order}))}:{sort:{[n.field]:n.order}}}return{}}function Ol(e,t){if(t.sorting&&Object.keys(t.sorting).length>0){let r=Object.keys(t.sorting).find(n=>{if(e.endsWith(n))return!0});if(r)return e.replace(r,"")}return e}var wl=e=>{let t=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");return t=t.split("").map(r=>/[a-z]/.test(r)?`[${r}${r.toUpperCase()}]`:r).join(""),t=`${t}.*`,e.length>2&&(t=`([a-zA-Z]+ )+?${t}`),t},Pl=(e,t,r)=>{let n=r&&r.length>0?{include:wl(r)}:{};return{terms:{field:e,size:t,...n}}},cn=(e,t,r)=>{let n={},i=typeof e!="string"&&"facetQuery"in e?e.facetQuery:Pl,a=(s,c)=>(typeof e=="string"||e.type==="string"?n={[s]:i(c,t,r)}:e.type==="numeric"&&(n={[s+"$_stats"]:{stats:{field:c}},[s+"$_entries"]:i(c,t,r)}),n);return typeof e=="string"?a(e,e):un(e)?{[`${e.nestedPath}.`]:{nested:{path:e.nestedPath},aggs:a(e.attribute,`${e.nestedPath}.${e.field}`)}}:a(e.attribute,e.field)},Rl=(e,t,r)=>{let{params:n={},type:i}=e,{facets:a,maxValuesPerFacet:s,facetName:c,facetQuery:u}=n,o=s||10,l=t.facet_attributes||[];if(c){let f=vr(l,c);return f?cn(f,o,u):null}else if(Array.isArray(a)){let f=t.facet_attributes||[];return r.facetAttributesOrder&&(f=r.facetAttributesOrder.map(h=>vr(t.facet_attributes||[],h)).filter(h=>h!==null)),(a[0]==="*"?f:a.map(h=>vr(t.facet_attributes||[],h)).filter(h=>h!==null)).reduce((h,p)=>(0,Yi.default)(h,cn(p,o,"")),{})||{}}else if(typeof a=="string"){let f=vr(t.facet_attributes||[],a);return f?cn(f,o,""):{}}};function xl(e,t){return t.touched?{function_score:{query:{pinned:{ids:t.pinnedDocs,organic:e}},functions:t.boostFunctions}}:e}function _l(e,t){let r=n=>t.map(i=>typeof i=="string"?i:`${i.field}^${(i.weight||1)*n}`);return{bool:{should:[{bool:{should:[{multi_match:{query:e,fields:r(1),fuzziness:"AUTO:4,8"}},{multi_match:{query:e,fields:r(.5),type:"bool_prefix"}}]}},{multi_match:{query:e,type:"phrase",fields:r(2)}}]}}}var jl=(e,t,r,n)=>{var i,a,s;let c=r.query,u=t.search_attributes,o=[...gl(e,t),...pl(e,t),...vl(e,t),...yl(e,t),...((i=n?.getBaseFilters)==null?void 0:i.call(n))||[],...r.baseFilters],l=typeof c=="string"&&c!==""?n?.getQuery?n.getQuery(c,u,t):_l(c,u):{match_all:{}},f=typeof n?.getKnnQuery=="function",d=((a=n?.getQuery)==null?void 0:a.call(n,c,u,t))===!1;(d||f&&c==="")&&(l={match_all:{}});let h={bool:{filter:o,must:r.touched?xl(l,r):l}},p=null;if(f&&c!==""&&(p={filter:o,...((s=n?.getKnnQuery)==null?void 0:s.call(n,c,u,t))||{}}),c!==""&&d&&f&&p)return{knn:p};let m=Zi(e);return{query:h,knn:p||void 0,rank:f&&!d&&m>0&&c!==""?{rrf:{window_size:m}}:void 0}},Zi=e=>{let{params:t={}}=e;return t.hitsPerPage==null?20:t.hitsPerPage},El=(e,t)=>{let{params:r={}}=e,n=Zi(e);return{size:n,from:(r.page||0)*n}},Fl=(e,t)=>{let{params:r={}}=e,{attributesToRetrieve:n}=r,i=new Set([...t.result_attributes||[],...t.highlight_attributes||[],...t.geo_attribute?[t.geo_attribute]:[]]),s=Object.keys(t.runtime_mappings||{}).reduce((c,u)=>{var o;return(o=t.result_attributes)!=null&&o.includes(u)?[u,...c]:c},[]);return{_source:{includes:Array.from(i)},...s.length>0?{fields:s}:{}}},fn=e=>{let t={attribute:e,length:100};if(!e.includes(":"))return t;let r=e.match(/(.+)\:(\d+)/);return r?{attribute:r[1],length:parseInt(r[2])}:t},Il=(e,t)=>{var r,n;let{params:i={}}=e,{attributesToHighlight:a}=i,s=((r=t.highlight_attributes)==null?void 0:r.reduce((u,o)=>({...u,[o]:{number_of_fragments:0}}),{}))||{},c=((n=t.snippet_attributes)==null?void 0:n.reduce((u,o)=>({...u,[fn(o).attribute]:{number_of_fragments:5,fragment_size:fn(o).length}}),{}))||{};return Object.keys(s).length===0&&Object.keys(c).length===0?{}:{highlight:{pre_tags:["<em>"],post_tags:["</em>"],fields:{...s,...c}}}},Tl=(e,t)=>t.runtime_mappings?{runtime_mappings:t.runtime_mappings}:{};function Al(e,t,r,n){return{aggs:Rl(e,t,r),...jl(e,t,r,n),...El(e,t),...Fl(e,t),...Il(e,t),...Sl(e,t),...Tl(e,t)}}function Nl(e,t){let r=new RegExp(t,"gi");return e.replace(r,n=>`<em>${n}</em>`)}function Cl(e,t){return t.findIndex(r=>{if(r.indexOf("*")<0)return r===e;let n=r.replace(/[.+?^$|\{\}\(\)\[\]\\]/g,"\\$&");return new RegExp(`^${n.replace(/\*/g,".*")}$`).test(e)})>=0}function Dl(e){let t={};for(let r in e){let n=r.split("."),i=t;for(let a=0;a<n.length-1;a++){let s=n[a];i[s]||(i[s]={}),i=i[s]}i[n[n.length-1]]=e[r]}return t}function Hl(e,t){return t.split(".").reduce((r,n)=>Array.isArray(r)?r.map(i=>i[n]):r&&Object.prototype.hasOwnProperty.call(r,n)?r[n]:void 0,e)}function Gi(e,t="<ais-highlight-0000000000>",r="<ais-highlight-0000000000/>",n=[]){let{_source:i={},highlight:a={}}=e,s={...i,...a},c=n.map(o=>fn(o).attribute),u=Object.keys(s).reduce((o,l)=>{let f=Hl(i,l),d=a[l]||null;if(!Cl(l,c))return o;if(Array.isArray(f)&&!d)return{...o,[l]:f.map(h=>({matchLevel:"none",matchedWords:[],value:h.toString()}))};if(Array.isArray(f)&&d&&Array.isArray(d))return{...o,[l]:d.map(h=>({fullyHighlighted:!1,matchLevel:"full",matchedWords:Array.from(h.matchAll(/\<em\>(.*?)\<\/em\>/g)).map(m=>m[1]),value:h.toString().replace(/\<em\>/g,t).replace(/\<\/em\>/g,r)}))};if(!Array.isArray(f)&&d&&Array.isArray(d)||!f&&Array.isArray(d)&&d.length>0){let h=d[0],m={fullyHighlighted:!1,matchLevel:"full",matchedWords:Array.from(h.matchAll(/\<em\>(.*?)\<\/em\>/g)).map(g=>g[1]),value:h.toString().replace(/\<em\>/g,t).replace(/\<\/em\>/g,r)};return{...o,[l]:m}}return{...o,[l]:{matchLevel:"none",matchedWords:[],value:f!=null?f.toString():""}}},{});return Dl(u)}var Ll=(e,t,r)=>{let{hits:n}=e,{highlight_attributes:i=[],snippet_attributes:a=[]}=t;return n.hits.map(s=>{var c,u,o,l,f,d;return{objectID:s._id,_index:s._index,_score:s._score,...s._source||{},...s.fields||{},...s.inner_hits?{inner_hits:s.inner_hits}:{},...i.length>0?{_highlightResult:Gi(s,(c=r?.params)==null?void 0:c.highlightPreTag,(u=r?.params)==null?void 0:u.highlightPostTag,i)}:{},...a.length>0?{_snippetResult:Gi(s,(o=r?.params)==null?void 0:o.highlightPreTag,(l=r?.params)==null?void 0:l.highlightPostTag,t.snippet_attributes)}:{},...t.geo_attribute&&((f=s._source)!=null&&f[t.geo_attribute])?{_geoloc:$l((d=s._source)==null?void 0:d[t.geo_attribute])}:{}}})};function $l(e){if(typeof e=="string"){let[t,r]=e.split(",").map(n=>parseFloat(n));return{lat:t,lng:r}}else{if(Array.isArray(e))return{lat:e[0],lng:e[1]};if(typeof e=="object"&&"lat"in e&&"lon"in e)return{lat:parseFloat(e.lat),lng:parseFloat(e.lon)}}return null}var Wl=e=>e.buckets.reduce((t,r)=>({...t,[r.key]:r.doc_count}),{}),kl=(e,t)=>{if(!e?.aggregations)return{};let r=Object.keys(e.aggregations).reduce((n,i)=>{let a=(e.aggregations||{})[i];if(i.endsWith(".")){let{doc_count:s,...c}=a;return{...n,...c}}return{...n,[i]:a}},{});return Object.keys(r).reduce((n,i)=>{let a=i.split("$")[0],s=hl(t.facet_attributes||[],a),c=ml(t.facet_attributes||[],a),u=c&&"facetResponse"in c&&c?.facetResponse||Wl;if(s==="numeric"){let l=r[a+"$_stats"],{buckets:f}=r[a+"$_entries"];return{...n,facets:{...n.facets,[a]:u({buckets:f})},facets_stats:{...n.facets_stats,[a]:{min:l.min,avg:l.avg,max:l.max,sum:l.sum}}}}let{buckets:o}=r[a];return{...n,facets:{...n.facets,[a]:u({buckets:o})}}},{facets:{},facets_stats:{}})},Ul=(e,t)=>{var r,n;let i=(r=e.facet_attributes)==null?void 0:r.map(a=>typeof a=="string"?a:a.attribute);return{renderingContent:{facetOrdering:{facets:{order:t.facetAttributesOrder||i||[]},values:(n=e.facet_attributes)==null?void 0:n.reduce((a,s)=>{let c=typeof s=="string"?s:s.attribute;return t.facetAttributesOrder&&!t.facetAttributesOrder.includes(c)?a:{...a,[c]:{sortRemainingBy:"count"}}},{})}}}},Ml=(e,t,r)=>{let{params:n={}}=t,{hitsPerPage:i=20,page:a=0}=n,{total:s}=e.hits,c=typeof s=="number"?s:s?.value,u=i<=0?0:Math.ceil((typeof s=="number"?s:s?.value||0)/i);return{hitsPerPage:i,processingTimeMS:e.took,nbHits:c,page:a,nbPages:u,query:r.query}};function Ql(e,t,r,n){try{return{appliedRules:n.ruleIds,exhaustiveNbHits:!0,exhaustiveFacetsCount:!0,exhaustiveTypo:!0,exhaustive:{facetsCount:!0,nbHits:!0,typo:!0},...Ml(e,t,n),...Ul(r,n),...kl(e,r),hits:Ll(e,r,t),index:t.indexName,params:new URLSearchParams(t.params).toString(),...n.userData.length>0?{userData:n.userData}:{}}}catch{throw new Error("Error transforming Elasticsearch response for index")}}var ql=(e,t)=>{var r,n,i;let a=e.aggregations||{},s=(r=t?.params)==null?void 0:r.facetName,c=((n=t.params)==null?void 0:n.highlightPreTag)||"<ais-highlight-0000000000>",u=((i=t.params)==null?void 0:i.highlightPostTag)||"<ais-highlight-0000000000/>",o=a[Object.keys(a)[0]];return o&&o[s]&&(o=o[s]),{facetHits:o.buckets.map(l=>({value:l.key,highlighted:Nl(l.key,t.params.facetQuery||"").replace(/<\em>/g,c).replace(/<\/\em>/g,u),count:l.doc_count})),exhaustiveFacetsCount:!0,processingTimeMS:e.took}},Bl=e=>typeof btoa>"u"?Buffer.from(e.username+":"+e.password).toString("base64"):btoa(e.username+":"+e.password);function Vl(e){let t;return typeof atob>"u"?t=Buffer.from(e.split(":")[1],"base64").toString():t=atob(e.split(":")[1]).split("$"),`https://${t[1]}.${t[0]}`}var Kl=class{constructor(e,t){this.config=e,this.settings=t}createElasticsearchQueryFromRequest(e){return Xi(e)}async performNetworkRequest(e){if(this.config.host===void 0&&this.config.cloud_id===void 0)throw new Error("No Elasticsearch host or cloud_id specified. Please provide a host or cloud id in your Searchkit configuration.");let t=this.config.cloud_id?Vl(this.config.cloud_id):this.config.host;return fetch(`${t}/_msearch`,{headers:{...this.config.apiKey?{authorization:`ApiKey ${this.config.apiKey}`}:{},"content-type":"application/json",...this.config.headers||{},...this.config.auth?{Authorization:"Basic "+Bl(this.config.auth)}:{}},body:this.createElasticsearchQueryFromRequest(e),method:"POST",...this.config.withCredentials?{credentials:"include"}:{}})}async msearch(e){var t,r,n,i,a,s;try{let u=await(await this.performNetworkRequest(e)).json();if(this.settings.debug&&(console.log("Elasticsearch response:"),console.log(JSON.stringify(u))),u.status>=500)throw console.error(JSON.stringify(u)),new Error("Elasticsearch Internal Error: Check your elasticsearch instance to make sure it can recieve requests.");if(u.status===401)throw console.error(JSON.stringify(u)),new Error("Cannot connect to Elasticsearch. Check your connection host and auth details (username/password or API Key required). You can also provide a custom Elasticsearch transporter to the API Client. See https://www.searchkit.co/docs/guides/setup-elasticsearch#connecting-with-usernamepassword for more details.");if(((r=(t=u.responses)==null?void 0:t[0])==null?void 0:r.status)===403)throw console.error(JSON.stringify(u)),new Error("Auth Error: You do not have permission to access this index. Check you are calling the right index (specified in frontend) and your API Key permissions has access to the index.");if(u.status===404||((i=(n=u.responses)==null?void 0:n[0])==null?void 0:i.status)===404)throw console.error(JSON.stringify(u)),new Error("Elasticsearch index not found. Check your index name and make sure it exists.");if(u.status===400||((s=(a=u.responses)==null?void 0:a[0])==null?void 0:s.status)===400)throw console.error(JSON.stringify(u)),new Error(`Elasticsearch Bad Request.

          1. Check your query and make sure it is valid.
          2. Check the field mapping. See documentation to make sure you are using text types for searching and keyword fields for faceting
          3. Turn on debug mode to see the Elasticsearch query and the error response.
          `);return u.responses}catch(c){throw c}}},ea=e=>{if(!e)return[];if(typeof e=="string"){let[t,r]=e.split(":");return[{attribute:t,value:r}]}else return e.reduce((t,r)=>{if(typeof r=="string"){let[n,i]=r.split(":");return[...t,{attribute:n,value:i}]}return[...t,...ea(r)]},[])},zl=(e,t,r)=>{var n,i,a;let s={query:((n=t.params)==null?void 0:n.query)||"",context:((i=t.params)==null?void 0:i.ruleContexts)||[],filters:ea((a=t.params)==null?void 0:a.facetFilters)},c=Jl(s,e||[]);return c.reduce((o,l)=>(l.actions.map(f=>{o.touched=!0,f.action==="PinnedResult"?o.pinnedDocs.push(...f.documentIds):f.action==="QueryRewrite"?o.query=f.query:f.action==="QueryBoost"?o.boostFunctions.push({filter:{query_string:{query:ln(r.facet_attributes,r.filter_attributes,f.query)}},weight:f.weight}):f.action==="RenderUserData"?o.userData.push(JSON.parse(f.userData)):f.action==="RenderFacetsOrder"?o.facetAttributesOrder=f.facetAttributesOrder:f.action==="QueryFilter"&&o.baseFilters.push({query_string:{query:ln(r.facet_attributes,r.filter_attributes,f.query)}})}),o),{ruleIds:c.map(o=>o.id),pinnedDocs:[],boostFunctions:[],query:s.query,userData:[],facetAttributesOrder:void 0,touched:!1,baseFilters:[]})},Jl=(e,t)=>t.filter(r=>r.conditions.find(n=>n.filter(i=>i.context==="query"&&i.match_type==="exact"?i.value===e.query:i.context==="query"&&i.match_type==="contains"?e.query.includes(i.value):i.context==="query"&&i.match_type==="prefix"?e.query.startsWith(i.value):i.context==="context"?i.value.some(a=>e.context.includes(a)):i.context==="filterPresent"?i.values.every(a=>e.filters.find(s=>s.attribute===a.attribute&&s.value===a.value)!==void 0):!1).length===n.length)!==void 0),ta=class{constructor(e,t={debug:!1}){this.config=e,this.settings=t,this.transporter="msearch"in e.connection?e.connection:new Kl(e.connection,t)}async performSearch(e){try{return this.settings.debug&&(console.log("Performing search with requests:"),console.log("POST /_msearch"),console.log(Xi(e))),await this.transporter.msearch(e)}catch(t){return console.error(t),[]}}async handleInstantSearchRequests(e,t){var r,n;if(!e||Array.isArray(e)===!1)throw console.log({instantsearchRequests:e}),new Error("No instantsearch requests provided. Check that the data you are providing from API request is correct. Likely you are not passing the request body correctly, its still a JSON string or the API is not a POST request.");let i=this.config.search_settings.query_rules||[],a=e.map(u=>zl(i,u,this.config.search_settings)),s=e.map((u,o)=>({body:Al(u,this.config.search_settings,a[o],t),request:u,indexName:Ol(u.indexName,this.config.search_settings)}));(r=t?.hooks)!=null&&r.beforeSearch&&(s=await t.hooks.beforeSearch(s));let c=await this.performSearch(s);(n=t?.hooks)!=null&&n.afterSearch&&(c=await t.hooks.afterSearch(s,c));try{return{results:c.map((o,l)=>{var f;return(f=e[l].params)!=null&&f.facetName?ql(o,e[l]):Ql(o,e[l],this.config.search_settings,a[l])})}}catch(u){throw console.error(u),new Error("Error transforming response. Check the afterSearch hook function is correct. Likely you are not returning the correct response object.")}}};var yr="7.13.8";var Gf=0;function cs(e){e.dependsOn==="recommend"&&(e.$$id=Gf++)}function H(){}function us(e){return Object.prototype.toString.call(e).slice(8,-1)}function ne(e,t){if(e===void 0||typeof e!="function")throw new Error("The render function is not valid (received type ".concat(us(e),`).

`).concat(t))}function Dn(e){var t=e.helper,r=e.attributesToClear,n=r===void 0?[]:r,i=t.state.setPage(0);return i=n.reduce(function(a,s){return i.isNumericRefined(s)?a.removeNumericRefinement(s):i.isHierarchicalFacet(s)?a.removeHierarchicalFacetRefinement(s):i.isDisjunctiveFacet(s)?a.removeDisjunctiveFacetRefinement(s):i.isConjunctiveFacet(s)?a.removeFacetRefinement(s):a},i),n.indexOf("query")!==-1&&(i=i.setQuery("")),i}var Yf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ls=/[&<>"']/g,Xf=RegExp(ls.source);function fs(e){return e&&Xf.test(e)?e.replace(ls,function(t){return Yf[t]}):e}var Zf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ds=/&(amp|quot|lt|gt|#39);/g,ed=RegExp(ds.source);function jr(e){return e&&ed.test(e)?e.replace(ds,function(t){return Zf[t]}):e}function Hn(e){return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hn(e)}function td(e){return e===null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function rd(e){return Hn(e)==="object"&&e!==null}function hs(e){if(!rd(e)||td(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function It(e){return It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(e)}function nd(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ln.apply(this,arguments)}function ms(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ms(Object(r),!0).forEach(function(n){ps(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ms(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ps(e,t,r){return t=id(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function id(e){var t=ad(e,"string");return It(t)==="symbol"?t:String(t)}function ad(e,t){if(It(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(It(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $e={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},q={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function gs(e){return fs(e).replace(new RegExp($e.highlightPreTag,"g"),q.highlightPreTag).replace(new RegExp($e.highlightPostTag,"g"),q.highlightPostTag)}function Er(e){return hs(e)&&typeof e.value!="string"?Object.keys(e).reduce(function(t,r){return ut(ut({},t),{},ps({},r,Er(e[r])))},{}):Array.isArray(e)?e.map(Er):ut(ut({},e),{},{value:gs(e.value)})}function vs(e){return e.__escaped===void 0&&(e=e.map(function(t){var r=Ln({},(nd(t),t));return r._highlightResult&&(r._highlightResult=Er(r._highlightResult)),r._snippetResult&&(r._snippetResult=Er(r._snippetResult)),r}),e.__escaped=!0),e}function ys(e){return e.map(function(t){return ut(ut({},t),{},{highlighted:gs(t.highlighted)})})}function Fr(e){var t=q.highlightPreTag,r=q.highlightPostTag;return e.map(function(n){return n.isHighlighted?t+n.value+r:n.value}).join("")}function bs(e,t,r){return e.state.isHierarchicalFacet(t)?e.state.isHierarchicalFacetRefined(t,r):e.state.isConjunctiveFacet(t)?e.state.isFacetRefined(t,r):e.state.isDisjunctiveFacetRefined(t,r)}function Ss(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ss(Object(r),!0).forEach(function(n){od(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ss(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function od(e,t,r){return t=cd(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cd(e){var t=ud(e,"string");return lt(t)==="symbol"?t:String(t)}function ud(e,t){if(lt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lt(e){return lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(e)}function ld(e,t){return md(e)||hd(e,t)||dd(e,t)||fd()}function fd(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dd(e,t){if(e){if(typeof e=="string")return Os(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Os(e,t)}}function Os(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hd(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function md(e){if(Array.isArray(e))return e}function ws(e){var t=e.instantSearchInstance,r=e.helper,n=e.attribute,i=e.widgetType,a=function(){for(var c=arguments.length,u=new Array(c),o=0;o<c;o++)u[o]=arguments[o];var l=u[1],f=u[2],d=f===void 0?"Filter Applied":f,h=u[3],p=h===void 0?{}:h,m=u[0].split(":"),g=ld(m,2),y=g[0],v=g[1],b=typeof n=="string"?n:n(l);u.length===1&&lt(u[0])==="object"?t.sendEventToInsights(u[0]):y==="click"&&u.length>=2&&u.length<=4&&(bs(r,b,l)||t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:y,eventModifier:v,payload:sd({eventName:d,index:r.getIndex(),filters:["".concat(b,":").concat(l)]},p),attribute:b}))};return a}function Ir(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function Ps(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ps(Object(r),!0).forEach(function(n){pd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ps(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pd(e,t,r){return t=gd(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gd(e){var t=vd(e,"string");return ft(t)==="symbol"?t:String(t)}function vd(e,t){if(ft(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ft(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yd(e,t){return wd(e)||Od(e,t)||Sd(e,t)||bd()}function bd(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sd(e,t){if(e){if(typeof e=="string")return Rs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rs(e,t)}}function Rs(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Od(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function wd(e){if(Array.isArray(e))return e}function ft(e){return ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(e)}function Pd(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,r=[],n=0;n<Math.ceil(e.length/t);n++)r.push(e.slice(n*t,(n+1)*t));return r}function xs(e){var t=e.getIndex,r=e.widgetType,n=e.methodName,i=e.args,a=e.instantSearchInstance;if(i.length===1&&ft(i[0])==="object")return[i[0]];var s=i[0].split(":"),c=yd(s,2),u=c[0],o=c[1],l=i[1],f=i[2],d=i[3]||{};if(!l)return[];if((u==="click"||u==="conversion")&&!f)return[];var h=Array.isArray(l)?l:[l];if(h.length===0)return[];var p=h[0].__queryID,m=Pd(h),g=m.map(function(v){return v.map(function(b){return b.objectID})}),y=m.map(function(v){return v.map(function(b){return b.__position})});return u==="view"?a.status!=="idle"?[]:m.map(function(v,b){return{insightsMethod:"viewedObjectIDs",widgetType:r,eventType:u,payload:$n({eventName:f||"Hits Viewed",index:t(),objectIDs:g[b]},d),hits:v,eventModifier:o}}):u==="click"?m.map(function(v,b){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:r,eventType:u,payload:$n({eventName:f||"Hit Clicked",index:t(),queryID:p,objectIDs:g[b],positions:y[b]},d),hits:v,eventModifier:o}}):u==="conversion"?m.map(function(v,b){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:r,eventType:u,payload:$n({eventName:f||"Hit Converted",index:t(),queryID:p,objectIDs:g[b]},d),hits:v,eventModifier:o}}):[]}function _s(e){var t=e.instantSearchInstance,r=e.getIndex,n=e.widgetType,i={},a=void 0,s=function(){for(var u=arguments.length,o=new Array(u),l=0;l<u;l++)o[l]=arguments[l];var f=xs({widgetType:n,getIndex:r,methodName:"sendEvent",args:o,instantSearchInstance:t});f.forEach(function(d){d.eventType==="click"&&d.eventModifier==="internal"&&i[d.eventType]||(i[d.eventType]=!0,t.sendEventToInsights(d))}),clearTimeout(a),a=setTimeout(function(){i={}},0)};return s}function js(e){var t=e.getIndex,r=e.widgetType,n=e.instantSearchInstance,i=function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];var o=xs({widgetType:r,getIndex:t,methodName:"bindEvent",args:c,instantSearchInstance:n});return o.length?"data-insights-event=".concat(Ir(o)):""};return i}function de(e){return e.$$type==="ais.index"}function Tr(e,t){var r=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:r})),t.getWidgets().filter(de).forEach(function(n){return Tr(e,n)})}var Rd=Promise.resolve();function dt(e){var t=null,r=!1,n=function(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];t===null&&(t=Rd.then(function(){if(t=null,r){r=!1;return}e.apply(void 0,s)}))};return n.wait=function(){if(t===null)throw new Error("The deferred function should be called before calling `wait()`");return t},n.cancel=function(){t!==null&&(r=!0)},n}function xd(e){var t=e.name,r=e.connector,n=r===void 0?!1:r;return["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",n?"#connector":""].join("")}function z(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map(function(i){return xd(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(n)].filter(Boolean).join(`

`)}}function Es(e){return typeof e=="string"?e.replace(/^\\-/,"-"):e}function Fs(e){return typeof e=="number"&&e<0||typeof e=="string"?String(e).replace(/^-/,"\\-"):e}function We(e,t){for(var r,n=0;n<e.length;n++)if(r=e[n],t(r,n,e))return r}function Is(e,t){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function Ts(e){if(e.transporter){var t=e.transporter,r=t.headers||t.baseHeaders,n=t.queryParameters||t.baseQueryParameters,i="x-algolia-application-id",a="x-algolia-api-key",s=r[i]||n[i],c=r[a]||n[a];return[s,c]}else return[e.applicationID,e.apiKey]}function ht(e){var t=q.highlightPostTag,r=q.highlightPreTag,n=e.split(r),i=n.shift(),a=i?[{value:i,isHighlighted:!1}]:[];return n.forEach(function(s){var c=s.split(t);a.push({value:c[0],isHighlighted:!0}),c[1]!==""&&a.push({value:c[1],isHighlighted:!1})}),a}var _d=new RegExp(/\w/i);function As(e,t){var r,n,i=e[t],a=((r=e[t+1])===null||r===void 0?void 0:r.isHighlighted)||!0,s=((n=e[t-1])===null||n===void 0?void 0:n.isHighlighted)||!0;return!_d.test(jr(i.value))&&s===a?s:i.isHighlighted}function ke(e,t){var r=Array.isArray(t)?t:t.split(".");return r.reduce(function(n,i){return n&&n[i]},e)}function Wn(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],a={type:t,attribute:r,name:n,escapedValue:Fs(n)},s=We(i,function(h){return h.name===r}),c;if(t==="hierarchical"){for(var u=e.getHierarchicalFacetByName(r),o=n.split(u.separator),l=function(p){return function(m){return p[m]}},f=function(p){s=s&&s.data&&We(Object.keys(s.data).map(l(s.data)),function(m){return m.name===o[p]})},d=0;s!==void 0&&d<o.length;++d)f(d);c=s&&s.count}else c=s&&s.data&&s.data[a.name];return c!==void 0&&(a.count=c),s&&s.exhaustive!==void 0&&(a.exhaustive=s.exhaustive),a}function Ar(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=[],i=t.facetsRefinements,a=i===void 0?{}:i,s=t.facetsExcludes,c=s===void 0?{}:s,u=t.disjunctiveFacetsRefinements,o=u===void 0?{}:u,l=t.hierarchicalFacetsRefinements,f=l===void 0?{}:l,d=t.numericRefinements,h=d===void 0?{}:d,p=t.tagRefinements,m=p===void 0?[]:p;return Object.keys(a).forEach(function(g){var y=a[g];y.forEach(function(v){n.push(Wn(t,"facet",g,v,e.facets))})}),Object.keys(c).forEach(function(g){var y=c[g];y.forEach(function(v){n.push({type:"exclude",attribute:g,name:v,exclude:!0})})}),Object.keys(o).forEach(function(g){var y=o[g];y.forEach(function(v){n.push(Wn(t,"disjunctive",g,Es(v),e.disjunctiveFacets))})}),Object.keys(f).forEach(function(g){var y=f[g];y.forEach(function(v){n.push(Wn(t,"hierarchical",g,v,e.hierarchicalFacets))})}),Object.keys(h).forEach(function(g){var y=h[g];Object.keys(y).forEach(function(v){var b=v,S=y[b],P=Array.isArray(S)?S:[S];P.forEach(function(_){n.push({type:"numeric",attribute:g,name:"".concat(_),numericValue:_,operator:b})})})}),m.forEach(function(g){n.push({type:"tag",attribute:"_tags",name:g})}),r&&t.query&&t.query.trim()&&n.push({attribute:"query",type:"query",name:t.query,query:t.query}),n}function Tt(e){return Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(e)}function Ns(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ns(Object(r),!0).forEach(function(n){jd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ns(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jd(e,t,r){return t=Ed(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ed(e){var t=Fd(e,"string");return Tt(t)==="symbol"?t:String(t)}function Fd(e,t){if(Tt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ds(e,t,r){return e.map(function(n,i){return Cs(Cs({},n),{},{__position:r*t+i+1})})}function At(e){return At=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(e)}function Hs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hs(Object(r),!0).forEach(function(n){Id(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Id(e,t,r){return t=Td(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Td(e){var t=Ad(e,"string");return At(t)==="symbol"?t:String(t)}function Ad(e,t){if(At(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(At(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $s(e,t){return t?e.map(function(r){return Ls(Ls({},r),{},{__queryID:t})}):e}function Nt(e){return Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(e)}function Ws(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ws(Object(r),!0).forEach(function(n){Nd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ws(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nd(e,t,r){return t=Cd(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cd(e){var t=Dd(e,"string");return Nt(t)==="symbol"?t:String(t)}function Dd(e,t){if(Nt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Us(e,t){var r=Object.keys(t).reduce(function(n,i){var a=t[i];return a.recommendResults?ks(ks({},n),a.recommendResults.results):n},{});e._recommendCache=r}function Dt(e){return Dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(e)}function Hd(e,t){return kd(e)||Wd(e,t)||$d(e,t)||Ld()}function Ld(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $d(e,t){if(e){if(typeof e=="string")return Ms(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ms(e,t)}}function Ms(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wd(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function kd(e){if(Array.isArray(e))return e}function Qs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qs(Object(r),!0).forEach(function(n){Bs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bs(e,t,r){return t=Ud(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ud(e){var t=Md(e,"string");return Dt(t)==="symbol"?t:String(t)}function Md(e,t){if(Dt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vs(e,t){if(t&&!((!("transporter"in e)||e._cacheHydrated)&&(!e._useCache||typeof e.addAlgoliaAgent!="function"))){var r=[Object.keys(t).reduce(function(s,c){var u=t[c],o=u.state,l=u.requestParams,f=u.results,d=f&&o?f.map(function(h,p){return Ct({indexName:o.index||h.index},l!=null&&l[p]||h.params?{params:qs(l?.[p]||Qd(h.params))}:{})}):[];return s.concat(d)},[])],n=Object.keys(t).reduce(function(s,c){var u=t[c].results;return u?s.concat(u):s},[]);if("transporter"in e&&!e._cacheHydrated){e._cacheHydrated=!0;var i=e.search.bind(e);e.search=function(s){for(var c=arguments.length,u=new Array(c>1?c-1:0),o=1;o<c;o++)u[o-1]=arguments[o];var l=s.map(function(f){return Ct(Ct({},f),{},{params:qs(f.params)})});return e.transporter.responsesCache.get({method:"search",args:[l].concat(u)},function(){return i.apply(void 0,[s].concat(u))})},e.transporter.responsesCache.set({method:"search",args:r},{results:n})}if(!("transporter"in e)){var a="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:r}));e.cache=Ct(Ct({},e.cache),{},Bs({},a,JSON.stringify({results:Object.keys(t).map(function(s){return t[s].results})})))}}}function Qd(e){return e.split("&").reduce(function(t,r){var n=r.split("="),i=Hd(n,2),a=i[0],s=i[1];return t[a]=s?decodeURIComponent(s):"",t},{})}function qs(e){var t=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},r=function(i){for(var a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];var u=0;return i.replace(/%s/g,function(){return encodeURIComponent(s[u++])})};return Object.keys(e).map(function(n){return r("%s=%s",n,t(e[n])?JSON.stringify(e[n]):e[n])}).join("&")}function Ks(e){return e!==Object(e)}function kn(e,t){if(e===t)return!0;if(Ks(e)||Ks(t)||typeof e=="function"||typeof t=="function")return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(!(i in t)||!kn(e[i],t[i]))return!1}return!0}function Nr(e){return e.filter(function(t,r,n){return n.indexOf(t)===r})}function Ht(e){return Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(e)}var qd=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function zs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zs(Object(r),!0).forEach(function(n){Bd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bd(e,t,r){return t=Vd(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vd(e){var t=Kd(e,"string");return Ht(t)==="symbol"?t:String(t)}function Kd(e,t){if(Ht(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ht(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zd(e,t){if(e==null)return{};var r=Jd(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jd(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Gd=function(t,r){var n=r.facets,i=r.disjunctiveFacets,a=r.facetsRefinements,s=r.facetsExcludes,c=r.disjunctiveFacetsRefinements,u=r.numericRefinements,o=r.tagRefinements,l=r.hierarchicalFacets,f=r.hierarchicalFacetsRefinements,d=r.ruleContexts,h=zd(r,qd);return t.setQueryParameters(h)},Yd=function(t,r){return r.facets.reduce(function(n,i){return n.addFacet(i)},t)},Xd=function(t,r){return r.disjunctiveFacets.reduce(function(n,i){return n.addDisjunctiveFacet(i)},t)},Zd=function(t,r){return t.setQueryParameters({hierarchicalFacets:r.hierarchicalFacets.reduce(function(n,i){var a=Is(n,function(c){return c.name===i.name});if(a===-1)return n.concat(i);var s=n.slice();return s.splice(a,1,i),s},t.hierarchicalFacets)})},eh=function(t,r){return r.tagRefinements.reduce(function(n,i){return n.addTagRefinement(i)},t)},th=function(t,r){return t.setQueryParameters({facetsRefinements:_e(_e({},t.facetsRefinements),r.facetsRefinements)})},rh=function(t,r){return t.setQueryParameters({facetsExcludes:_e(_e({},t.facetsExcludes),r.facetsExcludes)})},nh=function(t,r){return t.setQueryParameters({disjunctiveFacetsRefinements:_e(_e({},t.disjunctiveFacetsRefinements),r.disjunctiveFacetsRefinements)})},ih=function(t,r){return t.setQueryParameters({numericRefinements:_e(_e({},t.numericRefinements),r.numericRefinements)})},ah=function(t,r){return t.setQueryParameters({hierarchicalFacetsRefinements:_e(_e({},t.hierarchicalFacetsRefinements),r.hierarchicalFacetsRefinements)})},sh=function(t,r){var n=Nr([].concat(t.ruleContexts).concat(r.ruleContexts).filter(Boolean));return n.length>0?t.setQueryParameters({ruleContexts:n}):t},Cr=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.reduce(function(i,a){var s=ah(i,a),c=Zd(s,a),u=eh(c,a),o=ih(u,a),l=nh(o,a),f=rh(l,a),d=th(f,a),h=Xd(d,a),p=sh(h,a),m=Yd(p,a);return Gd(m,a)})};function oh(e){return fh(e)||lh(e)||uh(e)||ch()}function ch(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uh(e,t){if(e){if(typeof e=="string")return Un(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Un(e,t)}}function lh(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fh(e){if(Array.isArray(e))return Un(e)}function Un(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mn(e){var t=e.start,r=t===void 0?0:t,n=e.end,i=e.step,a=i===void 0?1:i,s=a===0?1:a,c=Math.round((n-r)/s);return oh(Array(c)).map(function(u,o){return r+o*s})}function Ze(e,t,r){var n=t.getHelper();return{uiState:r,helper:n,parent:t,instantSearchInstance:e,state:n.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function Qn(e,t,r){var n=t.getResultsForWidget(r),i=t.getHelper();return{helper:i,parent:t,instantSearchInstance:e,results:n,scopedResults:t.getScopedResults(),state:n&&"_state"in n?n._state:i.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function Js(e){for(var t=e.getParent(),r=[e.getHelper().state];t!==null;)r=[t.getHelper().state].concat(r),t=t.getParent();return r}function Lt(e){return Lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lt(e)}function Gs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gs(Object(r),!0).forEach(function(n){dh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dh(e,t,r){return t=hh(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hh(e){var t=mh(e,"string");return Lt(t)==="symbol"?t:String(t)}function mh(e,t){if(Lt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hr(e){return e.some(function(t){return t.isHighlighted})?e.map(function(t,r){return Dr(Dr({},t),{},{isHighlighted:!As(e,r)})}):e.map(function(t){return Dr(Dr({},t),{},{isHighlighted:!1})})}function we(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},r=t.fallback;return typeof window>"u"?r():e({window})}var Ue=E(A(),1);function qn(e){return qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(e)}var Ys=Object.prototype.hasOwnProperty;function je(e,t,r){if(r!=null&&r(e,t))return!0;var n,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&je(e[i],t[i],r););return i===-1}if(!n||qn(e)==="object"){i=0;for(n in e)if(Ys.call(e,n)&&++i&&!Ys.call(t,n)||!(n in t)||!je(e[n],t[n],r))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}var Xs=E(_r(),1);function Bn(e){var t,r,n;return new Xs.default.SearchResults(e,[{query:(t=e.query)!==null&&t!==void 0?t:"",page:(r=e.page)!==null&&r!==void 0?r:0,hitsPerPage:(n=e.hitsPerPage)!==null&&n!==void 0?n:20,hits:[],nbHits:0,nbPages:0,params:"",exhaustiveNbHits:!0,exhaustiveFacetsCount:!0,processingTimeMS:0,index:e.index}],{__isArtificial:!0})}function $t(e){return $t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(e)}function Zs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zs(Object(r),!0).forEach(function(n){ph(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ph(e,t,r){return t=gh(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gh(e){var t=vh(e,"string");return $t(t)==="symbol"?t:String(t)}function vh(e,t){if($t(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($t(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function to(e){var t=e.getHelper(),r=e.getResults()||Bn(t.state),n=e.getScopedResults().map(function(i){var a=i.indexId===e.getIndexId()?r:Bn(i.helper.state);return eo(eo({},i),{},{results:i.results||a})});return{results:r,scopedResults:n,recommendResults:t.lastRecommendResults}}var no=E(A(),1);var ro=E(A(),1),Lr=(0,ro.createContext)(null);function $r(e,t){if(!e)throw new Error("Invariant failed")}function io(){var e=(0,no.useContext)(Lr);return $r(e!==null,"The <Index> component must be used within <InstantSearch>."),e}var so=E(A(),1);var ao=E(A(),1),Wr=(0,ao.createContext)(null);function kr(){var e=(0,so.useContext)(Wr);return $r(e!==null,"Hooks must be used inside the <InstantSearch> component.\n\nThey are not compatible with the `react-instantsearch-core@6.x` and `react-instantsearch-dom` packages, so make sure to use the <InstantSearch> component from `react-instantsearch-core@7.x`."),e}var uo=E(A(),1);var oo=E(A(),1),co=(0,oo.createContext)(null);function Ur(){return(0,uo.useContext)(co)}var ho=E(A(),1);var lo=E(A(),1),fo=(0,lo.createContext)(null);function Mr(){return(0,ho.useContext)(fo)}var po=E(A(),1);function yh(e,t){return wh(e)||Oh(e,t)||Sh(e,t)||bh()}function bh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sh(e,t){if(e){if(typeof e=="string")return mo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mo(e,t)}}function mo(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oh(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function wh(e){if(Array.isArray(e))return e}function Vn(e){var t=(0,po.useState)(function(){return e}),r=yh(t,2),n=r[0],i=r[1];return je(n,e)||i(e),n}var et=E(A(),1);var Ph=E(A(),1),Rh="use",Kn=Ph[Rh];var Qr=E(A(),1),go=typeof window<"u"?Qr.useLayoutEffect:Qr.useEffect;var bo=E(A(),1);var vo=E(A(),1),yo=(0,vo.createContext)(null);function qr(){return(0,bo.useContext)(yo)}function So(e){var t,r=e.widget,n=e.parentIndex,i=e.props,a=e.shouldSsr,s=qr(),c=(0,et.useRef)(i);(0,et.useEffect)(function(){c.current=i},[i]);var u=(0,et.useRef)(r);(0,et.useEffect)(function(){u.current=r},[r]);var o=(0,et.useRef)(null),l=a&&!n.getWidgets().includes(r),f=kr();if(go(function(){var h=u.current;if(!o.current)a||n.addWidgets([r]);else{clearTimeout(o.current);var p=je(i,c.current);p||(n.removeWidgets([h]),n.addWidgets([r]))}return function(){o.current=setTimeout(function(){f._schedule(function(){f._preventWidgetCleanup||n.removeWidgets([h])})})}},[n,r,a,f,i]),(l||(s==null||(t=s.current)===null||t===void 0?void 0:t.status)==="pending")&&n.addWidgets([r]),typeof window>"u"&&s!==null&&s!==void 0&&s.current&&r.$$type!=="ais.index"){var d;Kn(s.current),r.$$type!=="ais.dynamicWidgets"&&(d=f.helper)!==null&&d!==void 0&&d.lastResults&&Kn(s.current)}}function Wt(e){return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(e)}var xh=["instantSearchInstance","widgetParams"],_h=["widgetParams"];function jh(e,t){return Th(e)||Ih(e,t)||Fh(e,t)||Eh()}function Eh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fh(e,t){if(e){if(typeof e=="string")return Oo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oo(e,t)}}function Oo(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ih(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function Th(e){if(Array.isArray(e))return e}function wo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Po(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wo(Object(r),!0).forEach(function(n){Ah(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wo(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ah(e,t,r){return t=Nh(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nh(e){var t=Ch(e,"string");return Wt(t)==="symbol"?t:String(t)}function Ch(e,t){if(Wt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ro(e,t){if(e==null)return{};var r=Dh(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dh(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function ie(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=Ur(),i=Mr(),a=kr(),s=io(),c=Vn(t),u=Vn(r),o=(0,Ue.useRef)(!0),l=(0,Ue.useRef)(null),f=(0,Ue.useRef)(a.status),d=(0,Ue.useMemo)(function(){var y=e(function(v,b){if(b){o.current=!0;return}if(o.current){var S=v.instantSearchInstance,P=v.widgetParams,_=Ro(v,xh);(!je(_,l.current,function(F,j){return F?.constructor===Function&&j?.constructor===Function})||S.status!==f.current)&&(g(_),l.current=_,f.current=S.status)}},function(){o.current=!1});return Po(Po({},y(c)),u)},[e,c,u]),h=(0,Ue.useState)(function(){if(d.getWidgetRenderState){var y,v=s.getHelper(),b=s.getWidgetUiState({})[s.getIndexId()];v.state=((y=d.getWidgetSearchParameters)===null||y===void 0?void 0:y.call(d,v.state,{uiState:b}))||v.state;var S=to(s),P=S.results,_=S.scopedResults,F=S.recommendResults,j=d.getWidgetRenderState({helper:v,parent:s,instantSearchInstance:a,results:d.dependsOn==="recommend"&&F&&i?F[i.recommendIdx.current++]:P,scopedResults:_,state:v.state,renderState:a.renderState,templatesConfig:a.templatesConfig,createURL:s.createURL,searchMetadata:{isSearchStalled:a.status==="stalled"},status:a.status,error:a.error}),$=j.widgetParams,k=Ro(j,_h);return k}return{}}),p=jh(h,2),m=p[0],g=p[1];return So({widget:d,parentIndex:s,props:c,shouldSsr:Boolean(n)}),m}var Ee=E(_r(),1);function Qt(e){return Qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qt(e)}var Hh=["initialSearchParameters"],Lh=["initialRecommendParameters"];function xo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xo(Object(r),!0).forEach(function(n){mt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xo(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mt(e,t,r){return t=$h(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $h(e){var t=Wh(e,"string");return Qt(t)==="symbol"?t:String(t)}function Wh(e,t){if(Qt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jo(e){return Qh(e)||Mh(e)||Uh(e)||kh()}function kh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uh(e,t){if(e){if(typeof e=="string")return Jn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jn(e,t)}}function Mh(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qh(e){if(Array.isArray(e))return Jn(e)}function Jn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eo(e,t){if(e==null)return{};var r=qh(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qh(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var kt=z({name:"index-widget"});function Fo(e,t){var r=t.state,n=t.recommendState,i=t.isPageReset,a=t._uiState;r!==e.state&&(e.state=r,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:i,_uiState:a})),n!==e.recommendState&&(e.recommendState=n)}function Ut(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.reduce(function(n,i){return de(i)||!i.getWidgetUiState&&!i.getWidgetState?n:i.getWidgetUiState?i.getWidgetUiState(n,t):i.getWidgetState(n,t)},r)}function Mt(e,t){var r=t.initialSearchParameters,n=Eo(t,Hh);return e.reduce(function(i,a){return!a.getWidgetSearchParameters||de(a)?i:a.dependsOn==="search"&&a.getWidgetParameters?a.getWidgetParameters(i,n):a.getWidgetSearchParameters(i,n)},r)}function _o(e,t){var r=t.initialRecommendParameters,n=Eo(t,Lh);return e.reduce(function(i,a){return!de(a)&&a.dependsOn==="recommend"&&a.getWidgetParameters?a.getWidgetParameters(i,n):i},r)}function Io(e){var t=e.filter(de);t.length!==0&&t.forEach(function(r){var n=r.getHelper();Fo(n,{state:n.state.resetPage(),recommendState:n.recommendState,isPageReset:!0}),Io(r.getWidgets())})}function To(e){var t=e.filter(de);return t.reduce(function(r,n){return r.concat.apply(r,[{indexId:n.getIndexId(),results:n.getResults(),helper:n.getHelper()}].concat(jo(To(n.getWidgets()))))},[])}var Bh=function(t){if(t===void 0||t.indexName===void 0)throw new Error(kt("The `indexName` option is required."));var r=t.indexName,n=t.indexId,i=n===void 0?r:n,a=[],s={},c=null,u=null,o=null,l=null,f=null,d=!1,h=!1;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return r},getIndexId:function(){return i},getHelper:function(){return o},getResults:function(){var m;return(m=l)!==null&&m!==void 0&&m.lastResults?(l.lastResults._state=o.state,l.lastResults):null},getResultsForWidget:function(m){var g;return m.dependsOn!=="recommend"||de(m)||m.$$id===void 0?this.getResults():(g=o)!==null&&g!==void 0&&g.lastRecommendResults?o.lastRecommendResults[m.$$id]:null},getPreviousState:function(){return f},getScopedResults:function(){var m=this.getParent(),g;return m?g=m.getWidgets():r.length===0?g=this.getWidgets():g=[this],To(g)},getParent:function(){return u},createURL:function(m){return typeof m=="function"?c._createURL(mt({},i,m(s))):c._createURL(mt({},i,Ut(a,{searchParameters:m,helper:o})))},getWidgets:function(){return a},addWidgets:function(m){var g=this;if(!Array.isArray(m))throw new Error(kt("The `addWidgets` method expects an array of widgets."));if(m.some(function(y){return typeof y.init!="function"&&typeof y.render!="function"}))throw new Error(kt("The widget definition expects a `render` and/or an `init` method."));return m.forEach(function(y){de(y)||(c&&y.dependsOn==="recommend"?c._hasRecommendWidget=!0:c?c._hasSearchWidget=!0:y.dependsOn==="recommend"?d=!0:h=!0,cs(y))}),a=a.concat(m),c&&Boolean(m.length)&&(Fo(o,{state:Mt(a,{uiState:s,initialSearchParameters:o.state}),recommendState:_o(a,{uiState:s,initialRecommendParameters:o.recommendState}),_uiState:s}),m.forEach(function(y){if(y.getRenderState){var v=y.getRenderState(c.renderState[g.getIndexId()]||{},Ze(c,g,c._initialUiState));zn({renderState:v,instantSearchInstance:c,parent:g})}}),m.forEach(function(y){y.init&&y.init(Ze(c,g,c._initialUiState))}),c.scheduleSearch()),this},removeWidgets:function(m){var g=this;if(!Array.isArray(m))throw new Error(kt("The `removeWidgets` method expects an array of widgets."));if(m.some(function(P){return typeof P.dispose!="function"}))throw new Error(kt("The widget definition expects a `dispose` method."));if(a=a.filter(function(P){return m.indexOf(P)===-1}),a.forEach(function(P){de(P)||(c&&P.dependsOn==="recommend"?c._hasRecommendWidget=!0:c?c._hasSearchWidget=!0:P.dependsOn==="recommend"?d=!0:h=!0)}),c&&Boolean(m.length)){var y=m.reduce(function(P,_){var F=_.dispose({helper:o,state:P.cleanedSearchState,recommendState:P.cleanedRecommendState,parent:g});return F instanceof Ee.default.RecommendParameters?P.cleanedRecommendState=F:F&&(P.cleanedSearchState=F),P},{cleanedSearchState:o.state,cleanedRecommendState:o.recommendState}),v=y.cleanedSearchState,b=y.cleanedRecommendState,S=c.future.preserveSharedStateOnUnmount?Mt(a,{uiState:s,initialSearchParameters:new Ee.default.SearchParameters({index:this.getIndexName()})}):Mt(a,{uiState:Ut(a,{searchParameters:v,helper:o}),initialSearchParameters:v});s=Ut(a,{searchParameters:S,helper:o}),o.setState(S),o.recommendState=b,a.length&&c.scheduleSearch()}return this},init:function(m){var g=this,y,v=m.instantSearchInstance,b=m.parent,S=m.uiState;if(o===null){c=v,u=b,s=S[i]||{};var P=v.mainHelper,_=Mt(a,{uiState:s,initialSearchParameters:new Ee.default.SearchParameters({index:r})}),F=_o(a,{uiState:s,initialRecommendParameters:new Ee.default.RecommendParameters});o=(0,Ee.default)({},_.index,_),o.recommendState=F,o.search=function(){return v.onStateChange?(v.onStateChange({uiState:v.mainIndex.getWidgetUiState({}),setUiState:function(T){return v.setUiState(T,!1)}}),P):P.search()},o.searchWithoutTriggeringOnStateChange=function(){return P.search()},o.searchForFacetValues=function(I,T,Q,X){var ae=o.state.setQueryParameters(X);return P.searchForFacetValues(I,T,Q,ae)},l=P.derive(function(){return Cr.apply(void 0,[P.state].concat(jo(Js(g))))},function(){return g.getHelper().recommendState});var j=(y=v._initialResults)===null||y===void 0?void 0:y[this.getIndexId()];if(j!=null&&j.results){var $=new Ee.default.SearchResults(new Ee.default.SearchParameters(j.state),j.results);l.lastResults=$,o.lastResults=$}if(j!=null&&j.recommendResults){var k=new Ee.default.RecommendResults(new Ee.default.RecommendParameters({params:j.recommendResults.params}),j.recommendResults.results);l.lastRecommendResults=k,o.lastRecommendResults=k}o.on("change",function(I){var T=I.isPageReset;T&&Io(a)}),l.on("search",function(){v.scheduleStalledRender()}),l.on("result",function(I){var T=I.results;v.scheduleRender(),o.lastResults=T,f=T?._state}),l.on("recommend:result",function(I){var T=I.recommend;v.scheduleRender(),o.lastRecommendResults=T.results}),a.forEach(function(I){if(I.getRenderState){var T=I.getRenderState(v.renderState[g.getIndexId()]||{},Ze(v,g,S));zn({renderState:T,instantSearchInstance:v,parent:g})}}),a.forEach(function(I){I.init&&I.init(Ze(v,g,S))}),o.on("change",function(I){var T=I.state,Q=I._uiState;s=Ut(a,{searchParameters:T,helper:o},Q||{}),v.onStateChange||v.onInternalStateChange()}),j&&v.scheduleRender(),d&&(v._hasRecommendWidget=!0),h&&(v._hasSearchWidget=!0)}},render:function(m){var g,y=this,v=m.instantSearchInstance;v.status==="error"&&!v.mainHelper.hasPendingRequests()&&f&&o.setState(f);var b=this.getResults()||(g=l)!==null&&g!==void 0&&g.lastRecommendResults?a:a.filter(de);b=b.filter(function(S){return S.shouldRender?S.shouldRender({instantSearchInstance:v}):!0}),b.forEach(function(S){if(S.getRenderState){var P=S.getRenderState(v.renderState[y.getIndexId()]||{},Qn(v,y,S));zn({renderState:P,instantSearchInstance:v,parent:y})}}),b.forEach(function(S){S.render&&S.render(Qn(v,y,S))})},dispose:function(){var m=this,g,y;a.forEach(function(v){v.dispose&&o&&v.dispose({helper:o,state:o.state,recommendState:o.recommendState,parent:m})}),c=null,u=null,(g=o)===null||g===void 0||g.removeAllListeners(),o=null,(y=l)===null||y===void 0||y.detach(),l=null},getWidgetUiState:function(m){return a.filter(de).reduce(function(g,y){return y.getWidgetUiState(g)},Fe(Fe({},m),{},mt({},i,Fe(Fe({},m[i]),s))))},getWidgetState:function(m){return this.getWidgetUiState(m)},getWidgetSearchParameters:function(m,g){var y=g.uiState;return Mt(a,{uiState:y,initialSearchParameters:m})},refreshUiState:function(){s=Ut(a,{searchParameters:this.getHelper().state,helper:this.getHelper()},s)},setIndexUiState:function(m){var g=typeof m=="function"?m(s):m;c.setUiState(function(y){return Fe(Fe({},y),{},mt({},i,g))})}}},Ao=Bh;function zn(e){var t=e.renderState,r=e.instantSearchInstance,n=e.parent,i=n?n.getIndexId():r.mainIndex.getIndexId();r.renderState=Fe(Fe({},r.renderState),{},mt({},i,Fe(Fe({},r.renderState[i]),t)))}var Co=E(A(),1);function Vh(e,t){return Gh(e)||Jh(e,t)||zh(e,t)||Kh()}function Kh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zh(e,t){if(e){if(typeof e=="string")return No(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return No(e,t)}}function No(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jh(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function Gh(e){if(Array.isArray(e))return e}function Do(){var e=(0,Co.useReducer)(function(n){return n+1},0),t=Vh(e,2),r=t[1];return r}var vi=E(A(),1);var vc=E(br(),1),mi=E(_r(),1);var Yh="ais",Me=function(t){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.descendantName,i=r.modifierName,a=n?"-".concat(n):"",s=i?"--".concat(i):"";return"".concat(Yh,"-").concat(t).concat(a).concat(s)}};var Xh=Me("Highlight");function Br(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,c=ke(i._highlightResult,t),u=c||{},o=u.value,l=o===void 0?"":o,f=Xh({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return l.replace(new RegExp(q.highlightPreTag,"g"),"<".concat(n,' class="').concat(f,'">')).replace(new RegExp(q.highlightPostTag,"g"),"</".concat(n,">"))}var Zh=Me("ReverseHighlight");function Vr(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,c=ke(i._highlightResult,t),u=c||{},o=u.value,l=o===void 0?"":o,f=Zh({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),d=Fr(Hr(ht(l)));return d.replace(new RegExp(q.highlightPreTag,"g"),"<".concat(n,' class="').concat(f,'">')).replace(new RegExp(q.highlightPostTag,"g"),"</".concat(n,">"))}var em=Me("Snippet");function Kr(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,c=ke(i._snippetResult,t),u=c||{},o=u.value,l=o===void 0?"":o,f=em({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return l.replace(new RegExp(q.highlightPreTag,"g"),"<".concat(n,' class="').concat(f,'">')).replace(new RegExp(q.highlightPostTag,"g"),"</".concat(n,">"))}var tm=Me("ReverseSnippet");function zr(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,c=ke(i._snippetResult,t),u=c||{},o=u.value,l=o===void 0?"":o,f=tm({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),d=Fr(Hr(ht(l)));return d.replace(new RegExp(q.highlightPreTag,"g"),"<".concat(n,' class="').concat(f,'">')).replace(new RegExp(q.highlightPostTag,"g"),"</".concat(n,">"))}function Gn(e){return Gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gn(e)}function rm(e){var t=e.method,r=e.payload;if(Gn(r)!=="object")throw new Error("The insights helper expects the payload to be an object.");var n;try{n=Ir(r)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(t,'" data-insights-payload="').concat(n,'"')}function Jr(e,t){return rm({method:e,payload:t})}function Yn(e){return Yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yn(e)}var nm="_ALGOLIA";function im(e){if(!((typeof document>"u"?"undefined":Yn(document))!=="object"||typeof document.cookie!="string"))for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}}function Xn(){return im(nm)}function Ho(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})}function qt(e){return qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(e)}function Lo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lo(Object(r),!0).forEach(function(n){am(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lo(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function am(e,t,r){return t=sm(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sm(e){var t=om(e,"string");return qt(t)==="symbol"?t:String(t)}function om(e,t){if(qt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qe(e,t){return lm(e)||um(e,t)||Wo(e,t)||cm()}function cm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function um(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function lm(e){if(Array.isArray(e))return e}function fm(e){return mm(e)||hm(e)||Wo(e)||dm()}function dm(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wo(e,t){if(e){if(typeof e=="string")return ei(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ei(e,t)}}function hm(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mm(e){if(Array.isArray(e))return ei(e)}function ei(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ko="2.17.2",pm="https://cdn.jsdelivr.net/npm/search-insights@".concat(ko,"/dist/search-insights.min.js");function ti(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.insightsClient,r=e.insightsInitParams,n=e.onEvent,i=e.$$internal,a=i===void 0?!1:i,s=e.$$automatic,c=s===void 0?!1:s,u,o=t;!t&&t!==null&&we(function(f){var d=f.window,h=d.AlgoliaAnalyticsObject||"aa";typeof h=="string"&&(o=d[h]),o||(d.AlgoliaAnalyticsObject=h,d[h]||(d[h]=function(){d[h].queue||(d[h].queue=[]);for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];d[h].queue.push(m)},d[h].version=ko,d[h].shouldAddScript=!0),o=d[h])});var l=o||H;return function(f){var d=f.instantSearchInstance,h=d.middleware.filter(function(T){return T.instance.$$type==="ais.insights"&&T.instance.$$internal}).map(function(T){return T.creator});d.unuse.apply(d,fm(h));var p=Ts(d.client),m=Qe(p,2),g=m[0],y=m[1],v=void 0,b=void 0,S=void 0,P=void 0,_=void 0,F=l.queue;if(Array.isArray(F)){var j=["setUserToken","setAuthenticatedUserToken","init"].map(function(T){var Q=We(F.slice().reverse(),function(ue){var U=Qe(ue,1),x=U[0];return x===T})||[],X=Qe(Q,2),ae=X[1];return ae}),$=Qe(j,3);b=$[0],S=$[1],v=$[2]}l("getUserToken",null,function(T,Q){P=Zn(Q)}),l("getAuthenticatedUserToken",null,function(T,Q){_=Zn(Q)}),(r||!$o(l))&&l("init",tt({appId:g,apiKey:y,partial:!0},r));var k,I;return{$$type:"ais.insights",$$internal:a,$$automatic:c,onStateChange:function(){},subscribe:function(){if(l.shouldAddScript){var Q="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var X=document.createElement("script");X.async=!0,X.src=pm,X.onerror=function(){d.emit("error",new Error(Q))},document.body.appendChild(X),l.shouldAddScript=!1}catch{l.shouldAddScript=!1,d.emit("error",new Error(Q))}}},started:function(){l("addAlgoliaAgent","insights-middleware"),I=d.mainHelper;var Q=l.queue;if(Array.isArray(Q)){var X=["setUserToken","setAuthenticatedUserToken","init"].map(function(W){var Y=We(Q.slice().reverse(),function(Pt){var pr=Qe(Pt,1),gr=pr[0];return gr===W})||[],Z=Qe(Y,2),oe=Z[1];return oe}),ae=Qe(X,3);b=ae[0],S=ae[1],v=ae[2]}k={userToken:I.state.userToken,clickAnalytics:I.state.clickAnalytics},c||I.overrideStateWithoutTriggeringChangeEvent(tt(tt({},I.state),{},{clickAnalytics:!0})),a||d.scheduleSearch();var ue=function(Y,Z){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Pt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,pr=Zn(Y);if(!pr)return;var gr=I.state.userToken;function Wi(){I.overrideStateWithoutTriggeringChangeEvent(tt(tt({},I.state),{},{userToken:pr})),gr&&gr!==Y&&d.scheduleSearch(),u=Z}u&&u==="authenticated"&&Z==="default"&&!Pt||(oe?Wi():setTimeout(Wi,0))};function U(W,Y,Z){ue(W,Z?"authenticated":"default",!0),Y&&l("setUserToken",Y),Z&&l("setAuthenticatedUserToken",Z)}var x=void 0,M=Xn();if(M)x=M;else{var B="anonymous-".concat(Ho());x=B}var G,be,xe=k.userToken;r&&(r.authenticatedUserToken?G=r.authenticatedUserToken:r.userToken&&(be=r.userToken));var Se=G||be,he=_||P,le=S||b;if(Se)U(Se,be,G);else if(xe)U(xe,xe,void 0);else if(he)U(he,P,_);else if(le)U(le,b,S);else if(x){var me;if(U(x,x,void 0),r!=null&&r.useCookie||(me=v)!==null&&me!==void 0&&me.useCookie){var pe;gm(x,r?.cookieDuration||((pe=v)===null||pe===void 0?void 0:pe.cookieDuration))}}l("onUserTokenChange",function(W){return ue(W,"default",!0)},{immediate:!0}),l("onAuthenticatedUserTokenChange",function(W){W||l("getUserToken",null,function(Y,Z){ue(Z,"default",!0,!0)}),ue(W,"authenticated",!0)},{immediate:!0});var ge=l;$o(l)&&(ge=function(Y,Z){var oe={headers:{"X-Algolia-Application-Id":g,"X-Algolia-API-Key":y}};return l(Y,Z,oe)});var Ge=new Set,at;d.mainHelper.derivedHelpers[0].on("result",function(W){var Y=W.results;(!Y.queryID||Y.queryID!==at)&&(at=Y.queryID,Ge.clear())}),d.sendEventToInsights=function(W){if(n)n(W,ge);else if(W.insightsMethod){if(W.insightsMethod==="viewedObjectIDs"){var Y=W.payload,Z=Y.objectIDs.filter(function(oe){return!Ge.has(oe)});if(Z.length===0)return;Z.forEach(function(oe){return Ge.add(oe)}),Y.objectIDs=Z}W.payload.algoliaSource=["instantsearch"],c&&W.payload.algoliaSource.push("instantsearch-automatic"),W.eventModifier==="internal"&&W.payload.algoliaSource.push("instantsearch-internal"),ge(W.insightsMethod,W.payload)}}},unsubscribe:function(){l("onUserTokenChange",void 0),l("onAuthenticatedUserTokenChange",void 0),d.sendEventToInsights=H,I&&k&&(I.overrideStateWithoutTriggeringChangeEvent(tt(tt({},I.state),k)),d.scheduleSearch())}}}}function gm(e,t){var r=2592e6,n=new Date;n.setTime(n.getTime()+(t||r*6));var i="expires=".concat(n.toUTCString());document.cookie="_ALGOLIA=".concat(e,";").concat(i,";path=/")}function $o(e){var t=(e.version||"").split(".").map(Number),r=Qe(t,2),n=r[0],i=r[1],a=n>=3,s=n===2&&i>=6,c=n===1&&i>=10;return a||s||c}function Zn(e){if(e)return typeof e=="number"?e.toString():e}function Uo(e,t,r){var n=Ze(t,t.mainIndex,t._initialUiState);e.forEach(function(i){var a={};if(i.getWidgetRenderState){var s=i.getWidgetRenderState(n);s&&s.widgetParams&&(a=s.widgetParams)}var c=Object.keys(a).filter(function(u){return a[u]!==void 0});r.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:c}),i.$$type==="ais.index"&&Uo(i.getWidgets(),t,r)})}function Mo(){return we(function(e){var t,r,n=e.window;return((t=n.navigator)===null||t===void 0||(r=t.userAgent)===null||r===void 0?void 0:r.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function Qo(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.$$internal,r=t===void 0?!1:t;return function(n){var i=n.instantSearchInstance,a={widgets:[]},s=document.createElement("meta"),c=document.querySelector("head");return s.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:r,onStateChange:function(){},subscribe:function(){setTimeout(function(){var o=i.client;a.ua=o.transporter&&o.transporter.userAgent?o.transporter.userAgent.value:o._ua,Uo(i.mainIndex.getWidgets(),i,a),i.middleware.forEach(function(l){return a.widgets.push({middleware:!0,type:l.instance.$$type,internal:l.instance.$$internal})}),s.content=JSON.stringify(a),c.appendChild(s)},0)},started:function(){},unsubscribe:function(){s.remove()}}}}var oi=E(rc(),1);function Vt(e){return Vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(e)}function zm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ac(n.key),n)}}function Jm(e,t,r){return t&&nc(e.prototype,t),r&&nc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function se(e,t,r){return t=ac(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ac(e){var t=Gm(e,"string");return Vt(t)==="symbol"?t:String(t)}function Gm(e,t){if(Vt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ic=function(t){t&&(window.document.title=t)},Ym=function(){function e(t){var r=this,n=t.windowTitle,i=t.writeDelay,a=i===void 0?400:i,s=t.createURL,c=t.parseURL,u=t.getLocation,o=t.start,l=t.dispose,f=t.push,d=t.cleanUrlOnDispose;zm(this,e),se(this,"$$type","ais.browser"),se(this,"windowTitle",void 0),se(this,"writeDelay",void 0),se(this,"_createURL",void 0),se(this,"parseURL",void 0),se(this,"getLocation",void 0),se(this,"writeTimer",void 0),se(this,"_onPopState",void 0),se(this,"inPopState",!1),se(this,"isDisposed",!1),se(this,"latestAcknowledgedHistory",0),se(this,"_start",void 0),se(this,"_dispose",void 0),se(this,"_push",void 0),se(this,"_cleanUrlOnDispose",void 0),this.windowTitle=n,this.writeTimer=void 0,this.writeDelay=a,this._createURL=s,this.parseURL=c,this.getLocation=u,this._start=o,this._dispose=l,this._push=f,this._cleanUrlOnDispose=typeof d>"u"?!0:d,we(function(h){var p=h.window,m=r.windowTitle&&r.windowTitle(r.read());ic(m),r.latestAcknowledgedHistory=p.history.length})}return Jm(e,[{key:"read",value:function(){return this.parseURL({qsModule:oi.default,location:this.getLocation()})}},{key:"write",value:function(r){var n=this;we(function(i){var a=i.window,s=n.createURL(r),c=n.windowTitle&&n.windowTitle(r);n.writeTimer&&clearTimeout(n.writeTimer),n.writeTimer=setTimeout(function(){ic(c),n.shouldWrite(s)&&(n._push?n._push(s):a.history.pushState(r,c||"",s),n.latestAcknowledgedHistory=a.history.length),n.inPopState=!1,n.writeTimer=void 0},n.writeDelay)})}},{key:"onUpdate",value:function(r){var n=this;this._start&&this._start(function(){r(n.read())}),this._onPopState=function(){n.writeTimer&&(clearTimeout(n.writeTimer),n.writeTimer=void 0),n.inPopState=!0,r(n.read())},we(function(i){var a=i.window;a.addEventListener("popstate",n._onPopState)})}},{key:"createURL",value:function(r){var n=this._createURL({qsModule:oi.default,routeState:r,location:this.getLocation()});if(!1)try{}catch(i){}return n}},{key:"dispose",value:function(){var r=this;this._dispose&&this._dispose(),this.isDisposed=!0,we(function(n){var i=n.window;r._onPopState&&i.removeEventListener("popstate",r._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(r){var n=this;return we(function(i){var a=i.window;if(n.isDisposed&&!n._cleanUrlOnDispose)return!1;var s=!(n.isDisposed&&n.latestAcknowledgedHistory!==a.history.length);return!n.inPopState&&s&&r!==a.location.href})}}]),e}();function ci(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.createURL,r=t===void 0?function(p){var m=p.qsModule,g=p.routeState,y=p.location,v=y.protocol,b=y.hostname,S=y.port,P=S===void 0?"":S,_=y.pathname,F=y.hash,j=m.stringify(g),$=P===""?"":":".concat(P);return j?"".concat(v,"//").concat(b).concat($).concat(_,"?").concat(j).concat(F):"".concat(v,"//").concat(b).concat($).concat(_).concat(F)}:t,n=e.parseURL,i=n===void 0?function(p){var m=p.qsModule,g=p.location;return m.parse(g.search.slice(1),{arrayLimit:99})}:n,a=e.writeDelay,s=a===void 0?400:a,c=e.windowTitle,u=e.getLocation,o=u===void 0?function(){return we(function(p){var m=p.window;return m.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:u,l=e.start,f=e.dispose,d=e.push,h=e.cleanUrlOnDispose;return new Ym({createURL:r,parseURL:i,writeDelay:s,windowTitle:c,getLocation:o,start:l,dispose:f,push:d,cleanUrlOnDispose:h})}function Kt(e){return Kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kt(e)}var Xm=["configure"];function sc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sc(Object(r),!0).forEach(function(n){ui(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ui(e,t,r){return t=Zm(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zm(e){var t=ep(e,"string");return Kt(t)==="symbol"?t:String(t)}function ep(e,t){if(Kt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tp(e,t){if(e==null)return{};var r=rp(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rp(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function oc(e){var t=e.configure,r=tp(e,Xm);return r}function li(){return{$$type:"ais.simple",stateToRoute:function(t){return Object.keys(t).reduce(function(r,n){return Yr(Yr({},r),{},ui({},n,oc(t[n])))},{})},routeToState:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(r,n){return Yr(Yr({},r),{},ui({},n,oc(t[n])))},{})}}}function zt(e){return zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zt(e)}function cc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cc(Object(r),!0).forEach(function(n){uc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uc(e,t,r){return t=np(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function np(e){var t=ip(e,"string");return zt(t)==="symbol"?t:String(t)}function ip(e,t){if(zt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lc=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.router,n=r===void 0?ci():r,i=t.stateMapping,a=i===void 0?li():i,s=t.$$internal,c=s===void 0?!1:s;return function(u){var o=u.instantSearchInstance;function l(h){var p=o.mainIndex.getWidgets().length===0?o._initialUiState:o.mainIndex.getWidgetUiState({}),m=Object.keys(h).reduce(function(y,v){return Xr(Xr({},y),{},uc({},v,h[v]))},p),g=a.stateToRoute(m);return n.createURL(g)}o._createURL=l;var f=void 0,d=o._initialUiState;return{$$type:"ais.router({router:".concat(n.$$type||"__unknown__",", stateMapping:").concat(a.$$type||"__unknown__","})"),$$internal:c,onStateChange:function(p){var m=p.uiState,g=a.stateToRoute(m);(f===void 0||!kn(f,g))&&(n.write(g),f=g)},subscribe:function(){o._initialUiState=Xr(Xr({},d),a.routeToState(n.read())),n.onUpdate(function(p){o.mainIndex.getWidgets().length>0&&o.setUiState(a.routeToState(p))})},started:function(){var p;(p=n.start)===null||p===void 0||p.call(n)},unsubscribe:function(){n.dispose()}}}};function fc(e,t){return e.toLocaleString(t)}function Jt(e){return Jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(e)}function dc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dc(Object(r),!0).forEach(function(n){ap(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ap(e,t,r){return t=sp(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sp(e){var t=op(e,"string");return Jt(t)==="symbol"?t:String(t)}function op(e,t){if(Jt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fi(e){var t=e.numberLocale;return{formatNumber:function(n,i){return fc(Number(i(n)),t)},highlight:function(n,i){try{var a=JSON.parse(n);return i(Br(Ce(Ce({},a),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(n,i){try{var a=JSON.parse(n);return i(Vr(Ce(Ce({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(n,i){try{var a=JSON.parse(n);return i(Kr(Ce(Ce({},a),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(n,i){try{var a=JSON.parse(n);return i(zr(Ce(Ce({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(n,i){try{var a=JSON.parse(n),s=a.method,c=a.payload;return i(Jr(s,Ce({objectIDs:[this.objectID]},c)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}var hc="4.75.5";function gt(e){return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(e)}function mc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mc(Object(r),!0).forEach(function(n){D(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gc(n.key),n)}}function up(e,t,r){return t&&pc(e.prototype,t),r&&pc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hi(e,t)}function hi(e,t){return hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hi(e,t)}function fp(e){var t=hp();return function(){var n=Zr(e),i;if(t){var a=Zr(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return dp(this,i)}}function dp(e,t){if(t&&(gt(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function C(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zr(e){return Zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zr(e)}function D(e,t,r){return t=gc(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gc(e){var t=mp(e,"string");return gt(t)==="symbol"?t:String(t)}function mp(e,t){if(gt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Te=z({name:"instantsearch"});function pp(){return"#"}var pi={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},gp=function(e){lp(r,e);var t=fp(r);function r(n){var i,a;cp(this,r),a=t.call(this),D(C(a),"client",void 0),D(C(a),"indexName",void 0),D(C(a),"insightsClient",void 0),D(C(a),"onStateChange",null),D(C(a),"future",void 0),D(C(a),"helper",void 0),D(C(a),"mainHelper",void 0),D(C(a),"mainIndex",void 0),D(C(a),"started",void 0),D(C(a),"templatesConfig",void 0),D(C(a),"renderState",{}),D(C(a),"_stalledSearchDelay",void 0),D(C(a),"_searchStalledTimer",void 0),D(C(a),"_initialUiState",void 0),D(C(a),"_initialResults",void 0),D(C(a),"_createURL",void 0),D(C(a),"_searchFunction",void 0),D(C(a),"_mainHelperSearch",void 0),D(C(a),"_hasSearchWidget",!1),D(C(a),"_hasRecommendWidget",!1),D(C(a),"_insights",void 0),D(C(a),"middleware",[]),D(C(a),"sendEventToInsights",void 0),D(C(a),"status","idle"),D(C(a),"error",void 0),D(C(a),"scheduleSearch",dt(function(){a.started&&a.mainHelper.search()})),D(C(a),"scheduleRender",dt(function(){var T,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(T=a.mainHelper)!==null&&T!==void 0&&T.hasPendingRequests()||(clearTimeout(a._searchStalledTimer),a._searchStalledTimer=null,Q&&(a.status="idle",a.error=void 0)),a.mainIndex.render({instantSearchInstance:C(a)}),a.emit("render")})),D(C(a),"onInternalStateChange",dt(function(){var T=a.mainIndex.getWidgetUiState({});a.middleware.forEach(function(Q){var X=Q.instance;X.onStateChange({uiState:T})})})),a.setMaxListeners(100);var s=n.indexName,c=s===void 0?"":s,u=n.numberLocale,o=n.initialUiState,l=o===void 0?{}:o,f=n.routing,d=f===void 0?null:f,h=n.insights,p=h===void 0?void 0:h,m=n.searchFunction,g=n.stalledSearchDelay,y=g===void 0?200:g,v=n.searchClient,b=v===void 0?null:v,S=n.insightsClient,P=S===void 0?null:S,_=n.onStateChange,F=_===void 0?null:_,j=n.future,$=j===void 0?di(di({},pi),n.future||{}):j;if(b===null)throw new Error(Te("The `searchClient` option is required."));if(typeof b.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof b.addAlgoliaAgent=="function"&&b.addAlgoliaAgent("instantsearch.js (".concat(hc,")")),P&&typeof P!="function")throw new Error(Te("The `insightsClient` option should be a function."));if(a.client=b,a.future=$,a.insightsClient=P,a.indexName=c,a.helper=null,a.mainHelper=null,a.mainIndex=Ao({indexName:c}),a.onStateChange=F,a.started=!1,a.templatesConfig={helpers:fi({numberLocale:u}),compileOptions:{}},a._stalledSearchDelay=y,a._searchStalledTimer=null,a._createURL=pp,a._initialUiState=l,a._initialResults=null,a._insights=p,m&&(a._searchFunction=m),a.sendEventToInsights=H,d){var k=typeof d=="boolean"?{}:d;k.$$internal=!0,a.use(lc(k))}if(p){var I=typeof p=="boolean"?{}:p;I.$$internal=!0,a.use(ti(I))}return Mo()&&a.use(Qo({$$internal:!0})),a}return up(r,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var i=this,a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];var u=s.map(function(o){var l=di({$$type:"__unknown__",$$internal:!1,subscribe:H,started:H,unsubscribe:H,onStateChange:H},o({instantSearchInstance:i}));return i.middleware.push({creator:o,instance:l}),l});return this.started&&u.forEach(function(o){o.subscribe(),o.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return this.middleware.filter(function(c){return a.includes(c.creator)}).forEach(function(c){return c.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(c){return!a.includes(c.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(Te("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(i.some(function(a){return typeof a.init!="function"&&typeof a.render!="function"}))throw new Error(Te("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(Te("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(i.some(function(a){return typeof a.dispose!="function"}))throw new Error(Te("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(Te("The `start` method has already been called once."));var a=this.mainHelper||(0,mi.default)(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(a.search=function(){return i.status="loading",i.scheduleRender(!1),i._hasSearchWidget&&a.searchOnlyWithDerivedHelpers(),i._hasRecommendWidget&&a.recommend(),a},this._searchFunction){var s={search:function(){return new Promise(H)}};this._mainHelperSearch=a.search.bind(a),a.search=function(){var u=i.mainIndex.getHelper(),o=(0,mi.default)(s,u.state.index,u.state);return o.once("search",function(l){var f=l.state;u.overrideStateWithoutTriggeringChangeEvent(f),i._mainHelperSearch()}),o.on("change",function(l){var f=l.state;u.setState(f)}),i._searchFunction(o),a}}if(a.on("error",function(u){var o=u.error;if(!(o instanceof Error)){var l=o;o=Object.keys(l).reduce(function(f,d){return f[d]=l[d],f},new Error(l.message))}o.error=o,i.error=o,i.status="error",i.scheduleRender(!1),i.emit("error",o)}),this.mainHelper=a,this.middleware.forEach(function(u){var o=u.instance;o.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){Vs(this.client,this._initialResults),Us(this.mainHelper,this._initialResults);var c=this.scheduleSearch;this.scheduleSearch=dt(H),dt(function(){i.scheduleSearch=c})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(u){var o=u.instance;o.started()}),typeof this._insights>"u"&&a.derivedHelpers[0].once("result",function(){var u=i.mainIndex.getScopedResults().some(function(o){var l=o.results;return l?._automaticInsights});u&&i.use(ti({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(a){var s=a.instance;s.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(Te("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var c=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&s?this.onStateChange({uiState:c,setUiState:function(o){Tr(typeof o=="function"?o(c):o,a.mainIndex),a.scheduleSearch(),a.onInternalStateChange()}}):(Tr(c,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(Te("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(Te("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),r}(vc.default),yc=gp;var qe=E(A(),1),Ec=E(wc(),1);function Gt(e){return Gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gt(e)}function Pc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pc(Object(r),!0).forEach(function(n){_p(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _p(e,t,r){return t=jp(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jp(e){var t=Ep(e,"string");return Gt(t)==="symbol"?t:String(t)}function Ep(e,t){if(Gt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xc=["react (".concat(qe.version,")"),"react-instantsearch (".concat(yr,")"),"react-instantsearch-core (".concat(yr,")")],_c="react-instantsearch-server (".concat(yr,")"),Fp=function(t){return t?"next.js (".concat(t,")"):null};function Fc(e){var t=Do(),r=Ur(),n=Mr(),i=qr(),a=n?.initialResults,s=(0,qe.useRef)(e),c=r||a||i,u=(0,qe.useRef)(null);if(n&&(u=n.ssrSearchRef),u.current===null){var o=new yc(e);o._schedule=function(g){o._schedule.queue.push(g),clearTimeout(o._schedule.timer),o._schedule.timer=setTimeout(function(){o._schedule.queue.forEach(function(y){y()}),o._schedule.queue=[]},0)},o._schedule.queue=[],c&&(o._initialResults=a||{}),jc(e.searchClient,[].concat(xc,[r&&_c,Fp(Ap())])),c&&o.start(),r&&r.notifyServer({search:o}),Ip(e.routing),Tp(Boolean(i)),u.current=o}{var l=u.current,f=s.current;if(f.indexName!==e.indexName&&(l.helper.setIndex(e.indexName||"").search(),s.current=e),f.searchClient!==e.searchClient&&(jc(e.searchClient,[].concat(xc,[r&&_c])),l.mainHelper.setClient(e.searchClient).search(),s.current=e),f.onStateChange!==e.onStateChange&&(l.onStateChange=e.onStateChange,s.current=e),f.searchFunction!==e.searchFunction&&(l._searchFunction=e.searchFunction,s.current=e),f.stalledSearchDelay!==e.stalledSearchDelay){var d;l._stalledSearchDelay=(d=e.stalledSearchDelay)!==null&&d!==void 0?d:200,s.current=e}je(f.future,e.future)||(l.future=Rc(Rc({},pi),e.future),s.current=e)}var h=(0,qe.useRef)(null),p=(0,Ec.useSyncExternalStore)((0,qe.useCallback)(function(){var m=u.current;return h.current===null?m.started||(m.start(),t()):(clearTimeout(h.current),m._preventWidgetCleanup=!1),function(){function g(){m.dispose()}clearTimeout(m._schedule.timer),h.current=setTimeout(g),m._preventWidgetCleanup=!0}},[t]),function(){return u.current},function(){return u.current});return p}function jc(e,t){typeof e.addAlgoliaAgent=="function"&&t.filter(Boolean).forEach(function(r){e.addAlgoliaAgent(r)})}function Ip(e){if(!1)var t,r}function Tp(e){var t}function Ap(){var e,t;return typeof window<"u"&&((e=window.next)===null||e===void 0?void 0:e.version)||(typeof process<"u"?(t=process.env)===null||t===void 0?void 0:t.NEXT_RUNTIME:void 0)}var Np=["children"];function Cp(e,t){if(e==null)return{};var r=Dp(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dp(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Ic(e){var t=e.children,r=Cp(e,Np),n=Fc(r);return n.started?vi.default.createElement(Wr.Provider,{value:n},vi.default.createElement(Lr.Provider,{value:n.mainIndex},t)):null}function Yt(e){return Yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yt(e)}function Hp(e){return kp(e)||Wp(e)||$p(e)||Lp()}function Lp(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $p(e,t){if(e){if(typeof e=="string")return yi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yi(e,t)}}function Wp(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kp(e){if(Array.isArray(e))return yi(e)}function yi(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tc(Object(r),!0).forEach(function(n){Up(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Up(e,t,r){return t=Mp(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mp(e){var t=Qp(e,"string");return Yt(t)==="symbol"?t:String(t)}function Qp(e,t){if(Yt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ac=z({name:"clear-refinements",connector:!0}),qp=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H;return ne(t,Ac()),function(n){var i=n||{},a=i.includedAttributes,s=a===void 0?[]:a,c=i.excludedAttributes,u=c===void 0?["query"]:c,o=i.transformItems,l=o===void 0?function(p){return p}:o;if(n&&n.includedAttributes&&n.excludedAttributes)throw new Error(Ac("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var f={refine:H,createURL:function(){return""},attributesToClear:[]},d=function(){return f.refine()},h=function(){return f.createURL()};return{$$type:"ais.clearRefinements",init:function(m){var g=m.instantSearchInstance;t(yt(yt({},this.getWidgetRenderState(m)),{},{instantSearchInstance:g}),!0)},render:function(m){var g=m.instantSearchInstance;t(yt(yt({},this.getWidgetRenderState(m)),{},{instantSearchInstance:g}),!1)},dispose:function(){r()},getRenderState:function(m,g){return yt(yt({},m),{},{clearRefinements:this.getWidgetRenderState(g)})},getWidgetRenderState:function(m){var g=m.createURL,y=m.scopedResults,v=m.results;f.attributesToClear=y.reduce(function(S,P){return S.concat(Bp({scopedResult:P,includedAttributes:s,excludedAttributes:u,transformItems:l,results:v}))},[]),f.refine=function(){f.attributesToClear.forEach(function(S){var P=S.helper,_=S.items;P.setState(Dn({helper:P,attributesToClear:_})).search()})},f.createURL=function(){return g(Cr.apply(void 0,Hp(f.attributesToClear.map(function(S){var P=S.helper,_=S.items;return Dn({helper:P,attributesToClear:_})}))))};var b=f.attributesToClear.some(function(S){return S.items.length>0});return{canRefine:b,hasRefinements:b,refine:d,createURL:h,widgetParams:n}}}}};function Bp(e){var t=e.scopedResult,r=e.includedAttributes,n=e.excludedAttributes,i=e.transformItems,a=e.results,s=r.indexOf("query")!==-1||n.indexOf("query")===-1;return{helper:t.helper,items:i(Nr(Ar(t.results,t.helper.state,s).map(function(c){return c.attribute}).filter(function(c){return r.length===0||r.indexOf(c)!==-1}).filter(function(c){return c==="query"&&s||n.indexOf(c)===-1})),{results:a})}}var Nc=qp;function Cc(e,t){return ie(Nc,e,t)}function Xt(e){return Xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xt(e)}function Vp(e){return Gp(e)||Jp(e)||zp(e)||Kp()}function Kp(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zp(e,t){if(e){if(typeof e=="string")return bi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bi(e,t)}}function Jp(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gp(e){if(Array.isArray(e))return bi(e)}function bi(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dc(Object(r),!0).forEach(function(n){Yp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yp(e,t,r){return t=Xp(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xp(e){var t=Zp(e,"string");return Xt(t)==="symbol"?t:String(t)}function Zp(e,t){if(Xt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hc=z({name:"current-refinements",connector:!0}),eg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H;return ne(t,Hc()),function(n){if((n||{}).includedAttributes&&(n||{}).excludedAttributes)throw new Error(Hc("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var i=n||{},a=i.includedAttributes,s=i.excludedAttributes,c=s===void 0?["query"]:s,u=i.transformItems,o=u===void 0?function(l){return l}:u;return{$$type:"ais.currentRefinements",init:function(f){var d=f.instantSearchInstance;t(bt(bt({},this.getWidgetRenderState(f)),{},{instantSearchInstance:d}),!0)},render:function(f){var d=f.instantSearchInstance;t(bt(bt({},this.getWidgetRenderState(f)),{},{instantSearchInstance:d}),!1)},dispose:function(){r()},getRenderState:function(f,d){return bt(bt({},f),{},{currentRefinements:this.getWidgetRenderState(d)})},getWidgetRenderState:function(f){var d=f.results,h=f.scopedResults,p=f.createURL,m=f.helper;function g(){return d?h.reduce(function(v,b){return v.concat(o(Lc({results:b.results,helper:b.helper,indexId:b.indexId,includedAttributes:a,excludedAttributes:c}),{results:d}))},[]):o(Lc({results:{},helper:m,indexId:m.state.index,includedAttributes:a,excludedAttributes:c}),{results:d})}var y=g();return{items:y,canRefine:y.length>0,refine:function(b){return Wc(m,b)},createURL:function(b){return p($c(m.state,b))},widgetParams:n}}}}};function Lc(e){var t=e.results,r=e.helper,n=e.indexId,i=e.includedAttributes,a=e.excludedAttributes,s=(i||[]).indexOf("query")!==-1||(a||[]).indexOf("query")===-1,c=i?function(o){return i.indexOf(o.attribute)!==-1}:function(o){return a.indexOf(o.attribute)===-1},u=Ar(t,r.state,s).map(rg).filter(c);return u.reduce(function(o,l){return[].concat(Vp(o.filter(function(f){return f.attribute!==l.attribute})),[{indexName:r.state.index,indexId:n,attribute:l.attribute,label:l.attribute,refinements:u.filter(function(f){return f.attribute===l.attribute}).sort(function(f,d){return f.type==="numeric"?f.value-d.value:0}),refine:function(d){return Wc(r,d)}}])},[])}function $c(e,t){switch(e=e.resetPage(),t.type){case"facet":return e.removeFacetRefinement(t.attribute,String(t.value));case"disjunctive":return e.removeDisjunctiveFacetRefinement(t.attribute,String(t.value));case"hierarchical":return e.removeHierarchicalFacetRefinement(t.attribute);case"exclude":return e.removeExcludeRefinement(t.attribute,String(t.value));case"numeric":return e.removeNumericRefinement(t.attribute,t.operator,String(t.value));case"tag":return e.removeTagRefinement(String(t.value));case"query":return e.setQueryParameter("query","");default:return e}}function Wc(e,t){e.setState($c(e.state,t)).search()}function tg(e){switch(e){case">=":return"\u2265";case"<=":return"\u2264";default:return e}}function rg(e){var t=ng(e),r=e.operator?"".concat(tg(e.operator)," ").concat(e.name):e.name,n={attribute:e.attribute,type:e.type,value:t,label:r};return e.operator!==void 0&&(n.operator=e.operator),e.count!==void 0&&(n.count=e.count),e.exhaustive!==void 0&&(n.exhaustive=e.exhaustive),n}function ng(e){return e.type==="numeric"?Number(e.name):"escapedValue"in e?e.escapedValue:e.name}var kc=eg;function Uc(e,t){return ie(kc,e,t)}function Zt(e){return Zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zt(e)}function Mc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mc(Object(r),!0).forEach(function(n){Qc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qc(e,t,r){return t=ig(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ig(e){var t=ag(e,"string");return Zt(t)==="symbol"?t:String(t)}function ag(e,t){if(Zt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sg=z({name:"hits",connector:!0}),qc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H;return ne(t,sg()),function(n){var i=n||{},a=i.escapeHTML,s=a===void 0?!0:a,c=i.transformItems,u=c===void 0?function(f){return f}:c,o,l;return{$$type:"ais.hits",init:function(d){t(Be(Be({},this.getWidgetRenderState(d)),{},{instantSearchInstance:d.instantSearchInstance}),!0)},render:function(d){var h=this.getWidgetRenderState(d);t(Be(Be({},h),{},{instantSearchInstance:d.instantSearchInstance}),!1),h.sendEvent("view:internal",h.items)},getRenderState:function(d,h){return Be(Be({},d),{},{hits:this.getWidgetRenderState(h)})},getWidgetRenderState:function(d){var h,p,m,g=d.results,y=d.helper,v=d.instantSearchInstance;if(o||(o=_s({instantSearchInstance:v,getIndex:function(){return y.getIndex()},widgetType:this.$$type})),l||(l=js({getIndex:function(){return y.getIndex()},widgetType:this.$$type,instantSearchInstance:v})),!g)return{hits:[],items:[],results:void 0,banner:void 0,sendEvent:o,bindEvent:l,widgetParams:n};s&&g.hits.length>0&&(g.hits=vs(g.hits));var b=Ds(g.hits,g.page,g.hitsPerPage),S=$s(b,g.queryID),P=u(S,{results:g}),_=(h=g.renderingContent)===null||h===void 0||(p=h.widgets)===null||p===void 0||(m=p.banners)===null||m===void 0?void 0:m[0];return{hits:P,items:P,results:g,banner:_,sendEvent:o,bindEvent:l,widgetParams:n}},dispose:function(d){var h=d.state;return r(),s?h.setQueryParameters(Object.keys($e).reduce(function(p,m){return Be(Be({},p),{},Qc({},m,void 0))},{})):h},getWidgetSearchParameters:function(d,h){return s?d.setQueryParameters($e):d}}}};function Bc(e,t){return ie(qc,e,t)}function er(e){return er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},er(e)}function og(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kc(n.key),n)}}function cg(e,t,r){return t&&Vc(e.prototype,t),r&&Vc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Si(e,t,r){return t=Kc(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kc(e){var t=ug(e,"string");return er(t)==="symbol"?t:String(t)}function ug(e,t){if(er(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(er(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lg=function(){function e(t){og(this,e),Si(this,"currentPage",void 0),Si(this,"total",void 0),Si(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}return cg(e,[{key:"pages",value:function(){var r=this.total,n=this.currentPage,i=this.padding;if(r===0)return[0];var a=this.nbPagesDisplayed(i,r);if(a===r)return Mn({end:r});var s=this.calculatePaddingLeft(n,i,r,a),c=a-s,u=n-s,o=n+c;return Mn({start:u,end:o})}},{key:"nbPagesDisplayed",value:function(r,n){return Math.min(2*r+1,n)}},{key:"calculatePaddingLeft",value:function(r,n,i,a){return r<=n?r:r>=i-n?a-(i-r):n}},{key:"isLastPage",value:function(){return this.currentPage>=this.total-1}},{key:"isFirstPage",value:function(){return this.currentPage<=0}}]),e}(),zc=lg;function tr(e){return tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tr(e)}function Jc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jc(Object(r),!0).forEach(function(n){fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fg(e,t,r){return t=dg(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dg(e){var t=hg(e,"string");return tr(t)==="symbol"?t:String(t)}function hg(e,t){if(tr(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mg=z({name:"pagination",connector:!0}),pg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H;return ne(t,mg()),function(n){var i=n||{},a=i.totalPages,s=i.padding,c=s===void 0?3:s,u=new zc({currentPage:0,total:0,padding:c}),o={};function l(f){var d=f.nbPages;return a!==void 0?Math.min(a,d):d}return{$$type:"ais.pagination",init:function(d){var h=d.instantSearchInstance;t(Ae(Ae({},this.getWidgetRenderState(d)),{},{instantSearchInstance:h}),!0)},render:function(d){var h=d.instantSearchInstance;t(Ae(Ae({},this.getWidgetRenderState(d)),{},{instantSearchInstance:h}),!1)},dispose:function(d){var h=d.state;return r(),h.setQueryParameter("page",void 0)},getWidgetUiState:function(d,h){var p=h.searchParameters,m=p.page||0;return m?Ae(Ae({},d),{},{page:m+1}):d},getWidgetSearchParameters:function(d,h){var p=h.uiState,m=p.page?p.page-1:0;return d.setQueryParameter("page",m)},getWidgetRenderState:function(d){var h=d.results,p=d.helper,m=d.state,g=d.createURL;o.refine||(o.refine=function(b){p.setPage(b),p.search()}),o.createURL||(o.createURL=function(b){return g(function(S){return Ae(Ae({},S),{},{page:b+1})})});var y=m.page||0,v=l(h||{nbPages:0});return u.currentPage=y,u.total=v,{createURL:o.createURL,refine:o.refine,canRefine:v>1,currentRefinement:y,nbHits:h?.nbHits||0,nbPages:v,pages:h?u.pages():[],isFirstPage:u.isFirstPage(),isLastPage:u.isLastPage(),widgetParams:n}},getRenderState:function(d,h){return Ae(Ae({},d),{},{pagination:this.getWidgetRenderState(h)})}}}},Gc=pg;function Yc(e,t){return ie(Gc,e,t)}function nr(e){return nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nr(e)}var gg=["name","escapedValue"],vg=["escapedValue","value"];function Xc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xc(Object(r),!0).forEach(function(n){rr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rr(e,t,r){return t=yg(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yg(e){var t=bg(e,"string");return nr(t)==="symbol"?t:String(t)}function bg(e,t){if(nr(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zc(e,t){if(e==null)return{};var r=Sg(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sg(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var en=z({name:"refinement-list",connector:!0}),eu=["isRefined","count:desc","name:asc"],Og=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H;return ne(t,en()),function(n){var i=n||{},a=i.attribute,s=i.operator,c=s===void 0?"or":s,u=i.limit,o=u===void 0?10:u,l=i.showMore,f=l===void 0?!1:l,d=i.showMoreLimit,h=d===void 0?20:d,p=i.sortBy,m=p===void 0?eu:p,g=i.escapeFacetValues,y=g===void 0?!0:g,v=i.transformItems,b=v===void 0?function(U){return U}:v;if(!a)throw new Error(en("The `attribute` option is required."));if(!/^(and|or)$/.test(c))throw new Error(en('The `operator` must one of: `"and"`, `"or"` (got "'.concat(c,'").')));if(f===!0&&h<=o)throw new Error(en("`showMoreLimit` should be greater than `limit`."));var S=function(x){var M=x.name,B=x.escapedValue,G=Zc(x,gg);return L(L({},G),{},{value:B,label:M,highlighted:M})},P,_=[],F=!0,j,$,k=!1,I=function(){};function T(){I()}function Q(U,x){return function(){k=!k,x.render(U)}}function X(){return k?h:o}var ae=function(){return function(){}},ue=function(x,M){return function(B){return function(G){var be=B.instantSearchInstance,xe=B.results;if(G===""&&_)t(L(L({},M.getWidgetRenderState(L(L({},B),{},{results:P}))),{},{instantSearchInstance:be}),!1);else{var Se={highlightPreTag:y?$e.highlightPreTag:q.highlightPreTag,highlightPostTag:y?$e.highlightPostTag:q.highlightPostTag};x.searchForFacetValues(a,G,Math.min(X(),100),Se).then(function(he){var le=y?ys(he.facetHits):he.facetHits,me=b(le.map(function(pe){var ge=pe.escapedValue,Ge=pe.value,at=Zc(pe,vg);return L(L({},at),{},{value:ge,label:Ge})}),{results:xe});t(L(L({},M.getWidgetRenderState(L(L({},B),{},{results:P}))),{},{items:me,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:be}),!1)})}}}};return{$$type:"ais.refinementList",init:function(x){t(L(L({},this.getWidgetRenderState(x)),{},{instantSearchInstance:x.instantSearchInstance}),!0)},render:function(x){t(L(L({},this.getWidgetRenderState(x)),{},{instantSearchInstance:x.instantSearchInstance}),!1)},getRenderState:function(x,M){return L(L({},x),{},{refinementList:L(L({},x.refinementList),{},rr({},a,this.getWidgetRenderState(M)))})},getWidgetRenderState:function(x){var M=this,B=x.results,G=x.state,be=x.createURL,xe=x.instantSearchInstance,Se=x.helper,he=[],le=[];if((!$||!j||!ae)&&($=ws({instantSearchInstance:xe,helper:Se,attribute:a,widgetType:this.$$type}),j=function(oe){$("click:internal",oe),Se.toggleFacetRefinement(a,oe).search()},ae=ue(Se,this)),B){var me=B.getFacetValues(a,{sortBy:m,facetOrdering:m===eu});le=me&&Array.isArray(me)?me:[],he=b(le.slice(0,X()).map(S),{results:B});var pe=G.maxValuesPerFacet,ge=X();F=pe>ge?le.length<=ge:le.length<ge,P=B,_=he,x.results&&(I=Q(x,this))}var Ge=ae&&ae(x),at=k&&_.length>o,W=f&&!F,Y=at||W;return{createURL:function(oe){return be(function(Pt){return M.getWidgetUiState(Pt,{searchParameters:G.resetPage().toggleFacetRefinement(a,oe),helper:Se})})},items:he,refine:j,searchForItems:Ge,isFromSearch:!1,canRefine:he.length>0,widgetParams:n,isShowingMore:k,canToggleShowMore:Y,toggleShowMore:T,sendEvent:$,hasExhaustiveItems:F}},dispose:function(x){var M=x.state;r();var B=M.setQueryParameter("maxValuesPerFacet",void 0);return c==="and"?B.removeFacet(a):B.removeDisjunctiveFacet(a)},getWidgetUiState:function(x,M){var B=M.searchParameters,G=c==="or"?B.getDisjunctiveRefinements(a):B.getConjunctiveRefinements(a);return wg(L(L({},x),{},{refinementList:L(L({},x.refinementList),{},rr({},a,G))}),a)},getWidgetSearchParameters:function(x,M){var B=M.uiState,G=c==="or";if(x.isHierarchicalFacet(a)||G&&x.isConjunctiveFacet(a)||!G&&x.isDisjunctiveFacet(a))return x;var be=B.refinementList&&B.refinementList[a],xe=G?x.addDisjunctiveFacet(a).removeDisjunctiveFacetRefinement(a):x.addFacet(a).removeFacetRefinement(a),Se=xe.maxValuesPerFacet||0,he=Math.max(Se,f?h:o),le=xe.setQueryParameter("maxValuesPerFacet",he);if(!be){var me=G?"disjunctiveFacetsRefinements":"facetsRefinements";return le.setQueryParameters(rr({},me,L(L({},le[me]),{},rr({},a,[]))))}return be.reduce(function(pe,ge){return G?pe.addDisjunctiveFacetRefinement(a,ge):pe.addFacetRefinement(a,ge)},le)}}}};function wg(e,t){return e.refinementList&&((!e.refinementList[t]||e.refinementList[t].length===0)&&delete e.refinementList[t],Object.keys(e.refinementList).length===0&&delete e.refinementList),e}var tu=Og;function ru(e,t){return ie(tu,e,t)}function ir(e){return ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(e)}function nu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nu(Object(r),!0).forEach(function(n){Pg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pg(e,t,r){return t=Rg(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rg(e){var t=xg(e,"string");return ir(t)==="symbol"?t:String(t)}function xg(e,t){if(ir(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ir(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _g=z({name:"search-box",connector:!0}),jg=function(t,r){return r(t)},Eg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H;return ne(t,_g()),function(n){var i=n||{},a=i.queryHook,s=a===void 0?jg:a,c,u;return{$$type:"ais.searchBox",init:function(l){var f=l.instantSearchInstance;t(Ve(Ve({},this.getWidgetRenderState(l)),{},{instantSearchInstance:f}),!0)},render:function(l){var f=l.instantSearchInstance;t(Ve(Ve({},this.getWidgetRenderState(l)),{},{instantSearchInstance:f}),!1)},dispose:function(l){var f=l.state;return r(),f.setQueryParameter("query",void 0)},getRenderState:function(l,f){return Ve(Ve({},l),{},{searchBox:this.getWidgetRenderState(f)})},getWidgetRenderState:function(l){var f=l.helper,d=l.instantSearchInstance,h=l.state;return c||(c=function(m){s(m,function(g){return f.setQuery(g).search()})},u=function(){f.setQuery("").search()}),{query:h.query||"",refine:c,clear:u,widgetParams:n,isSearchStalled:d.status==="stalled"}},getWidgetUiState:function(l,f){var d=f.searchParameters,h=d.query||"";return h===""||l&&l.query===h?l:Ve(Ve({},l),{},{query:h})},getWidgetSearchParameters:function(l,f){var d=f.uiState;return l.setQueryParameter("query",d.query||"")}}}},iu=Eg;function au(e,t){return ie(iu,e,t)}function ar(e){return ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ar(e)}function su(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?su(Object(r),!0).forEach(function(n){Fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):su(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fg(e,t,r){return t=Ig(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ig(e){var t=Tg(e,"string");return ar(t)==="symbol"?t:String(t)}function Tg(e,t){if(ar(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ar(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ou=z({name:"sort-by",connector:!0}),Ag=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H;ne(t,ou());var n={};return function(i){var a=i||{},s=a.items,c=a.transformItems,u=c===void 0?function(o){return o}:c;if(!Array.isArray(s))throw new Error(ou("The `items` option expects an array of objects."));return{$$type:"ais.sortBy",init:function(l){var f=l.instantSearchInstance,d=this.getWidgetRenderState(l),h=d.currentRefinement,p=We(s,function(m){return m.value===h});t(Ke(Ke({},d),{},{instantSearchInstance:f}),!0)},render:function(l){var f=l.instantSearchInstance;t(Ke(Ke({},this.getWidgetRenderState(l)),{},{instantSearchInstance:f}),!1)},dispose:function(l){var f=l.state;return r(),n.initialIndex?f.setIndex(n.initialIndex):f},getRenderState:function(l,f){return Ke(Ke({},l),{},{sortBy:this.getWidgetRenderState(f)})},getWidgetRenderState:function(l){var f=l.results,d=l.helper,h=l.state,p=l.parent;!n.initialIndex&&p&&(n.initialIndex=p.getIndexName()),n.setIndex||(n.setIndex=function(g){d.setIndex(g).search()});var m=f?f.nbHits===0:!0;return{currentRefinement:h.index,options:u(s,{results:f}),refine:n.setIndex,hasNoResults:m,canRefine:!m&&s.length>0,widgetParams:i}},getWidgetUiState:function(l,f){var d=f.searchParameters,h=d.index;return Ke(Ke({},l),{},{sortBy:h!==n.initialIndex?h:void 0})},getWidgetSearchParameters:function(l,f){var d=f.uiState;return l.setQueryParameter("index",d.sortBy||n.initialIndex||l.index)}}}},cu=Ag;function uu(e,t){return ie(cu,e,t)}function sr(e){return sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sr(e)}function lu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lu(Object(r),!0).forEach(function(n){Ng(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ng(e,t,r){return t=Cg(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cg(e){var t=Dg(e,"string");return sr(t)==="symbol"?t:String(t)}function Dg(e,t){if(sr(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hg=z({name:"stats",connector:!0}),Lg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H;return ne(t,Hg()),function(n){return{$$type:"ais.stats",init:function(a){var s=a.instantSearchInstance;t(St(St({},this.getWidgetRenderState(a)),{},{instantSearchInstance:s}),!0)},render:function(a){var s=a.instantSearchInstance;t(St(St({},this.getWidgetRenderState(a)),{},{instantSearchInstance:s}),!1)},dispose:function(){r()},getRenderState:function(a,s){return St(St({},a),{},{stats:this.getWidgetRenderState(s)})},getWidgetRenderState:function(a){var s=a.results,c=a.state;return s?{hitsPerPage:s.hitsPerPage,nbHits:s.nbHits,nbSortedHits:s.nbSortedHits,areHitsSorted:typeof s.appliedRelevancyStrictness<"u"&&s.appliedRelevancyStrictness>0&&s.nbSortedHits!==s.nbHits,nbPages:s.nbPages,page:s.page,processingTimeMS:s.processingTimeMS,query:s.query,widgetParams:n}:{hitsPerPage:c.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:c.page||0,processingTimeMS:-1,query:c.query||"",widgetParams:n}}}}},fu=Lg;function du(e,t){return ie(fu,e,t)}function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ot.apply(null,arguments)}function hu(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}function tn(e,t){if(e==null)return{};var r,n,i=hu(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function w(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(n,i){return Array.isArray(i)?n.concat(i):n.concat([i])},[]).filter(Boolean).join(" ")}var $g=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"];function Wg(e){var t=e.createElement;return function(n){var i=n.classNames,a=n.children,s=n.highlightedTagName,c=n.isHighlighted,u=n.nonHighlightedTagName,o=c?s:u;return t(o,{className:c?i.highlighted:i.nonHighlighted},a)}}function mu(e){var t=e.createElement,r=e.Fragment,n=Wg({createElement:t,Fragment:r});return function(a){var s=a.parts,c=a.highlightedTagName,u=c===void 0?"mark":c,o=a.nonHighlightedTagName,l=o===void 0?"span":o,f=a.separator,d=f===void 0?", ":f,h=a.className,p=a.classNames,m=p===void 0?{}:p,g=tn(a,$g);return t("span",Ot({},g,{className:w(m.root,h)}),s.map(function(y,v){var b=v===s.length-1;return t(r,{key:v},y.map(function(S,P){return t(n,{key:P,classNames:m,highlightedTagName:u,nonHighlightedTagName:l,isHighlighted:S.isHighlighted},S.value)}),!b&&t("span",{className:m.separator},d))}))}}var kg=["classNames","hits","itemComponent","sendEvent","emptyComponent","banner","bannerComponent"];function Ug(e){var t=e.createElement;return function(n){var i=n.classNames,a=n.banner;return a.image.urls[0].url?t("aside",{className:w("ais-Hits-banner",i.bannerRoot)},a.link?t("a",{className:w("ais-Hits-banner-link",i.bannerLink),href:a.link.url,target:a.link.target},t("img",{className:w("ais-Hits-banner-image",i.bannerImage),src:a.image.urls[0].url,alt:a.image.title})):t("img",{className:w("ais-Hits-banner-image",i.bannerImage),src:a.image.urls[0].url,alt:a.image.title})):null}}function pu(e){var t=e.createElement,r=e.Fragment,n=Ug({createElement:t,Fragment:r});return function(a){var s=a.classNames,c=s===void 0?{}:s,u=a.hits,o=a.itemComponent,l=a.sendEvent,f=a.emptyComponent,d=a.banner,h=a.bannerComponent,p=tn(a,kg);return t("div",Ot({},p,{className:w("ais-Hits",c.root,u.length===0&&w("ais-Hits--empty",c.emptyRoot),p.className)}),d&&(h?t(h,{className:w("ais-Hits-banner",c.bannerRoot),banner:d}):t(n,{classNames:c,banner:d})),u.length===0&&f?t(f,null):t("ol",{className:w("ais-Hits-list",c.list)},u.map(function(m,g){return t(o,{key:m.objectID,hit:m,index:g,className:w("ais-Hits-item",c.item),onClick:function(){l("click:internal",m,"Hit Clicked")},onAuxClick:function(){l("click:internal",m,"Hit Clicked")}})})))}}function rn(e){var t=e.button===1;return Boolean(t||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}var yu=E(A(),1);var wi=E(A(),1),Mg=["classNames","disabled","onClick","translations"];function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oi.apply(this,arguments)}function Qg(e,t){if(e==null)return{};var r=qg(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qg(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function gu(e){var t=e.classNames,r=t===void 0?{}:t,n=e.disabled,i=n===void 0?!1:n,a=e.onClick,s=a===void 0?function(){}:a,c=e.translations,u=Qg(e,Mg);return wi.default.createElement("div",Oi({},u,{className:w("ais-ClearRefinements",r.root,u.className)}),wi.default.createElement("button",{disabled:i,onClick:s,className:w("ais-ClearRefinements-button",r.button,i&&w("ais-ClearRefinements-button--disabled",r.disabledButton))},c.resetButtonText))}function or(e){return or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},or(e)}var Bg=["includedAttributes","excludedAttributes","transformItems","translations"];function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pi.apply(this,arguments)}function vu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vu(Object(r),!0).forEach(function(n){Kg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kg(e,t,r){return t=zg(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zg(e){var t=Jg(e,"string");return or(t)==="symbol"?t:String(t)}function Jg(e,t){if(or(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(or(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gg(e,t){if(e==null)return{};var r=Yg(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yg(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function bu(e){var t=e.includedAttributes,r=e.excludedAttributes,n=e.transformItems,i=e.translations,a=Gg(e,Bg),s=Cc({includedAttributes:t,excludedAttributes:r,transformItems:n},{$$widgetType:"ais.clearRefinements"}),c=s.canRefine,u=s.refine,o={onClick:u,disabled:!c,translations:Vg({resetButtonText:"Clear refinements"},i)};return yu.default.createElement(gu,Pi({},a,o))}var wu=E(A(),1);var ze=E(A(),1);function Su(e){return e.toString().charAt(0).toUpperCase()+e.toString().slice(1)}var Xg=["classNames","items","hasRefinements"];function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ri.apply(this,arguments)}function Zg(e,t){if(e==null)return{};var r=ev(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ev(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Ou(e){var t=e.classNames,r=t===void 0?{}:t,n=e.items,i=n===void 0?[]:n,a=e.hasRefinements,s=a===void 0?!1:a,c=Zg(e,Xg);return ze.default.createElement("div",Ri({},c,{className:w("ais-CurrentRefinements",r.root,!s&&w("ais-CurrentRefinements--noRefinement",r.noRefinementRoot),c.className)}),ze.default.createElement("ul",{className:w("ais-CurrentRefinements-list",r.list,!s&&w("ais-CurrentRefinements-list--noRefinement",r.noRefinementList))},i.map(function(u){return ze.default.createElement("li",{key:[u.indexName,u.label].join("/"),className:w("ais-CurrentRefinements-item",r.item)},ze.default.createElement("span",{className:w("ais-CurrentRefinements-label",r.label)},Su(u.label),":"," "),u.refinements.map(function(o){return ze.default.createElement("span",{key:o.label,className:w("ais-CurrentRefinements-category",r.category)},ze.default.createElement("span",{className:w("ais-CurrentRefinements-categoryLabel",r.categoryLabel)},o.label),ze.default.createElement("button",{type:"button",onClick:function(f){rn(f)||u.refine(o)},className:w("ais-CurrentRefinements-delete",r.delete)},"\u2715"))}))})))}var tv=["includedAttributes","excludedAttributes","transformItems"];function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xi.apply(this,arguments)}function rv(e,t){if(e==null)return{};var r=nv(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nv(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Pu(e){var t=e.includedAttributes,r=e.excludedAttributes,n=e.transformItems,i=rv(e,tv),a=Uc({includedAttributes:t,excludedAttributes:r,transformItems:n},{$$widgetType:"ais.currentRefinements"}),s=a.items,c=a.canRefine,u={items:s,hasRefinements:c};return wu.default.createElement(Ou,xi({},i,u))}var Ru=E(A(),1),iv=["isShowingMore","translations"];function av(e,t){if(e==null)return{};var r=sv(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sv(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function xu(e){var t=e.isShowingMore,r=e.translations,n=av(e,iv);return Ru.default.createElement("button",n,r.showMoreButtonText({isShowingMore:t}))}var ju=E(A(),1);var nn=E(A(),1),_u=mu({createElement:nn.createElement,Fragment:nn.Fragment});var ov=["classNames"];function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_i.apply(this,arguments)}function cv(e,t){if(e==null)return{};var r=uv(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uv(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Eu(e){var t=e.classNames,r=t===void 0?{}:t,n=cv(e,ov);return ju.default.createElement(_u,_i({classNames:{root:w("ais-Highlight",r.root),highlighted:w("ais-Highlight-highlighted",r.highlighted),nonHighlighted:w("ais-Highlight-nonHighlighted",r.nonHighlighted),separator:w("ais-Highlight-separator",r.separator)}},n))}var Pe=E(A(),1);var lv=["escapeHTML","transformItems","hitComponent","bannerComponent"],fv=["hit","index"];function an(){return an=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},an.apply(this,arguments)}function Fu(e,t){if(e==null)return{};var r=dv(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dv(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function hv(e){var t=e.hit;return Pe.default.createElement("div",{style:{wordBreak:"break-all"}},JSON.stringify(t).slice(0,100),"\u2026")}var mv=pu({createElement:Pe.createElement,Fragment:Pe.Fragment});function Iu(e){var t=e.escapeHTML,r=e.transformItems,n=e.hitComponent,i=n===void 0?hv:n,a=e.bannerComponent,s=Fu(e,lv),c=Bc({escapeHTML:t,transformItems:r},{$$widgetType:"ais.hits"}),u=c.hits,o=c.banner,l=c.sendEvent,f=(0,Pe.useMemo)(function(){return function(p){var m=p.hit,g=p.index,y=Fu(p,fv);return Pe.default.createElement("li",an({key:m.objectID},y),Pe.default.createElement(i,{hit:m,sendEvent:l}))}},[i,l]),d=a===!1?function(){return null}:a,h={hits:u,sendEvent:l,itemComponent:f,banner:o,bannerComponent:d};return Pe.default.createElement(mv,an({},s,h))}var Cu=E(A(),1);var ve=E(A(),1);var pv=["pages","currentPage","nbPages","isFirstPage","isLastPage","showFirst","showPrevious","showNext","showLast","createURL","onNavigate","translations","classNames"],gv=["isDisabled","className","classNames","href","onClick"];function ur(){return ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ur.apply(this,arguments)}function Tu(e,t){if(e==null)return{};var r=vv(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vv(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Au(e){var t=e.pages,r=e.currentPage,n=e.nbPages,i=e.isFirstPage,a=e.isLastPage,s=e.showFirst,c=s===void 0?!0:s,u=e.showPrevious,o=u===void 0?!0:u,l=e.showNext,f=l===void 0?!0:l,d=e.showLast,h=d===void 0?!0:d,p=e.createURL,m=e.onNavigate,g=e.translations,y=e.classNames,v=y===void 0?{}:y,b=Tu(e,pv),S=0,P=r-1,_=r+1,F=n-1;return ve.default.createElement("div",ur({},b,{className:w("ais-Pagination",v.root,n<=1&&w("ais-Pagination--noRefinement",v.noRefinementRoot),b.className)}),ve.default.createElement("ul",{className:w("ais-Pagination-list",v.list)},c&&ve.default.createElement(cr,{isDisabled:i,className:w("ais-Pagination-item--firstPage",v.firstPageItem),classNames:v,"aria-label":g.firstPageItemAriaLabel,href:p(S),onClick:function(){return m(S)}},g.firstPageItemText),o&&ve.default.createElement(cr,{isDisabled:i,className:w("ais-Pagination-item--previousPage",v.previousPageItem),classNames:v,"aria-label":g.previousPageItemAriaLabel,href:p(P),onClick:function(){return m(P)}},g.previousPageItemText),t.map(function(j){return ve.default.createElement(cr,{key:j,isDisabled:!1,className:w("ais-Pagination-item--page",v.pageItem,j===r&&w("ais-Pagination-item--selected",v.selectedItem)),classNames:v,"aria-label":g.pageItemAriaLabel({currentPage:j+1,nbPages:n}),href:p(j),onClick:function(){return m(j)}},g.pageItemText({currentPage:j+1,nbPages:n}))}),f&&ve.default.createElement(cr,{isDisabled:a,className:w("ais-Pagination-item--nextPage",v.nextPageItem),classNames:v,"aria-label":g.nextPageItemAriaLabel,href:p(_),onClick:function(){return m(_)}},g.nextPageItemText),h&&ve.default.createElement(cr,{isDisabled:a,className:w("ais-Pagination-item--lastPage",v.lastPageItem),classNames:v,"aria-label":g.lastPageItemAriaLabel,href:p(F),onClick:function(){return m(F)}},g.lastPageItemText)))}function cr(e){var t=e.isDisabled,r=e.className,n=e.classNames,i=e.href,a=e.onClick,s=Tu(e,gv);return t?ve.default.createElement("li",{className:w("ais-Pagination-item",n.item,"ais-Pagination-item--disabled",n.disabledItem,r)},ve.default.createElement("span",ur({className:w("ais-Pagination-link",n.link)},s))):ve.default.createElement("li",{className:w("ais-Pagination-item",n.item,r)},ve.default.createElement("a",ur({className:w("ais-Pagination-link",n.link),href:i,onClick:function(u){rn(u)||(u.preventDefault(),a(u))}},s)))}function lr(e){return lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lr(e)}var yv=["showFirst","showPrevious","showNext","showLast","padding","totalPages","translations"];function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ji.apply(this,arguments)}function Nu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nu(Object(r),!0).forEach(function(n){Sv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sv(e,t,r){return t=Ov(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ov(e){var t=wv(e,"string");return lr(t)==="symbol"?t:String(t)}function wv(e,t){if(lr(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pv(e,t){if(e==null)return{};var r=Rv(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rv(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Du(e){var t=e.showFirst,r=e.showPrevious,n=e.showNext,i=e.showLast,a=e.padding,s=e.totalPages,c=e.translations,u=Pv(e,yv),o=Yc({padding:a,totalPages:s},{$$widgetType:"ais.pagination"}),l=o.pages,f=o.currentRefinement,d=o.isFirstPage,h=o.isLastPage,p=o.nbPages,m=o.createURL,g=o.refine,y={pages:l,currentPage:f,isFirstPage:d,isLastPage:h,nbPages:p,createURL:m,onNavigate:g,translations:bv({firstPageItemText:"\u2039\u2039",previousPageItemText:"\u2039",nextPageItemText:"\u203A",lastPageItemText:"\u203A\u203A",pageItemText:function(b){var S=b.currentPage;return String(S)},firstPageItemAriaLabel:"First Page",previousPageItemAriaLabel:"Previous Page",nextPageItemAriaLabel:"Next Page",lastPageItemAriaLabel:"Last Page, Page ".concat(p),pageItemAriaLabel:function(b){var S=b.currentPage;return"Page ".concat(S)}},c)};return Cu.default.createElement(Au,ji({},u,y,{showFirst:t,showPrevious:r,showNext:n,showLast:i}))}var it=E(A(),1);var ye=E(A(),1);var xv=["canRefine","items","onRefine","query","searchBox","noResults","showMore","canToggleShowMore","onToggleShowMore","isShowingMore","className","classNames","translations"];function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ei.apply(this,arguments)}function _v(e,t){if(e==null)return{};var r=jv(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jv(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Hu(e){var t=e.canRefine,r=e.items,n=e.onRefine,i=e.query,a=e.searchBox,s=e.noResults,c=e.showMore,u=e.canToggleShowMore,o=e.onToggleShowMore,l=e.isShowingMore,f=e.className,d=e.classNames,h=d===void 0?{}:d,p=e.translations,m=_v(e,xv);return ye.default.createElement("div",Ei({},m,{className:w("ais-RefinementList",h.root,r.length===0&&w("ais-RefinementList--noRefinement",h.noRefinementRoot),f)}),a&&ye.default.createElement("div",{className:w("ais-RefinementList-searchBox",h.searchBox)},a),s?ye.default.createElement("div",{className:w("ais-RefinementList-noResults",h.noResults)},s):ye.default.createElement("ul",{className:w("ais-RefinementList-list",h.list)},r.map(function(g){return ye.default.createElement("li",{key:g.value,className:w("ais-RefinementList-item",h.item,g.isRefined&&w("ais-RefinementList-item--selected",h.selectedItem))},ye.default.createElement("label",{className:w("ais-RefinementList-label",h.label)},ye.default.createElement("input",{checked:g.isRefined,className:w("ais-RefinementList-checkbox",h.checkbox),type:"checkbox",value:g.value,onChange:function(){n(g)}}),ye.default.createElement("span",{className:w("ais-RefinementList-labelText",h.labelText)},i.length>0?ye.default.createElement(Eu,{parts:[ht(jr(g.highlighted||""))]}):g.label),ye.default.createElement("span",{className:w("ais-RefinementList-count",h.count)},g.count)))})),c&&ye.default.createElement(xu,{className:w("ais-RefinementList-showMore",h.showMore,!u&&w("ais-RefinementList-showMore--disabled",h.disabledShowMore)),disabled:!u,onClick:o,isShowingMore:l,translations:p}))}var J=E(A(),1),Ev=["formRef","inputRef","isSearchStalled","onChange","onReset","onSubmit","placeholder","value","autoFocus","resetIconComponent","submitIconComponent","loadingIconComponent","classNames","translations"];function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fi.apply(this,arguments)}function Fv(e,t){if(e==null)return{};var r=Iv(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Iv(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Tv=J.default.createElement("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"});function Av(e){var t=e.classNames;return J.default.createElement("svg",{className:w("ais-SearchBox-submitIcon",t.submitIcon),width:"10",height:"10",viewBox:"0 0 40 40","aria-hidden":"true"},Tv)}var Nv=J.default.createElement("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"});function Cv(e){var t=e.classNames;return J.default.createElement("svg",{className:w("ais-SearchBox-resetIcon",t.resetIcon),viewBox:"0 0 20 20",width:"10",height:"10","aria-hidden":"true"},Nv)}var Dv=J.default.createElement("g",{fill:"none",fillRule:"evenodd"},J.default.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},J.default.createElement("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),J.default.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},J.default.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}))));function Hv(e){var t=e.classNames;return J.default.createElement("svg",{"aria-label":"Results are loading",width:"16",height:"16",viewBox:"0 0 38 38",stroke:"#444",className:w("ais-SearchBox-loadingIcon",t.loadingIcon),"aria-hidden":"true"},Dv)}function sn(e){var t=e.formRef,r=e.inputRef,n=e.isSearchStalled,i=e.onChange,a=e.onReset,s=e.onSubmit,c=e.placeholder,u=c===void 0?"":c,o=e.value,l=e.autoFocus,f=e.resetIconComponent,d=f===void 0?Cv:f,h=e.submitIconComponent,p=h===void 0?Av:h,m=e.loadingIconComponent,g=m===void 0?Hv:m,y=e.classNames,v=y===void 0?{}:y,b=e.translations,S=Fv(e,Ev);function P(F){F.preventDefault(),F.stopPropagation(),s&&s(F),r.current&&r.current.blur()}function _(F){F.preventDefault(),F.stopPropagation(),a(F),r.current&&r.current.focus()}return J.default.createElement("div",Fi({},S,{className:w("ais-SearchBox",v.root,S.className)}),J.default.createElement("form",{ref:t,action:"",className:w("ais-SearchBox-form",v.form),noValidate:!0,onSubmit:P,onReset:_,role:"search"},J.default.createElement("input",{ref:r,className:w("ais-SearchBox-input",v.input),"aria-label":"Search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",placeholder:u,spellCheck:!1,maxLength:512,type:"search",value:o,onChange:i,onCompositionEnd:i,autoFocus:l}),J.default.createElement("button",{className:w("ais-SearchBox-submit",v.submit),type:"submit",title:b.submitButtonTitle},J.default.createElement(p,{classNames:v})),J.default.createElement("button",{className:w("ais-SearchBox-reset",v.reset),type:"reset",title:b.resetButtonTitle,hidden:o.length===0||n},J.default.createElement(d,{classNames:v})),J.default.createElement("span",{className:w("ais-SearchBox-loadingIndicator",v.loadingIndicator),hidden:!n},J.default.createElement(g,{classNames:v}))))}function fr(e){return fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fr(e)}var Lv=["searchable","searchablePlaceholder","attribute","operator","limit","showMore","showMoreLimit","sortBy","escapeFacetValues","transformItems","translations"];function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ii.apply(this,arguments)}function Lu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $v(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lu(Object(r),!0).forEach(function(n){Wv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wv(e,t,r){return t=kv(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kv(e){var t=Uv(e,"string");return fr(t)==="symbol"?t:String(t)}function Uv(e,t){if(fr(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mv(e,t){return Vv(e)||Bv(e,t)||qv(e,t)||Qv()}function Qv(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qv(e,t){if(e){if(typeof e=="string")return $u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $u(e,t)}}function $u(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bv(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function Vv(e){if(Array.isArray(e))return e}function Kv(e,t){if(e==null)return{};var r=zv(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zv(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function De(e){var t=e.searchable,r=e.searchablePlaceholder,n=e.attribute,i=e.operator,a=e.limit,s=e.showMore,c=e.showMoreLimit,u=e.sortBy,o=e.escapeFacetValues,l=e.transformItems,f=e.translations,d=Kv(e,Lv),h=ru({attribute:n,operator:i,limit:a,showMore:s,showMoreLimit:c,sortBy:u,escapeFacetValues:o,transformItems:l},{$$widgetType:"ais.refinementList"}),p=h.canRefine,m=h.canToggleShowMore,g=h.isFromSearch,y=h.isShowingMore,v=h.items,b=h.refine,S=h.searchForItems,P=h.toggleShowMore,_=(0,it.useState)(""),F=Mv(_,2),j=F[0],$=F[1],k=(0,it.useRef)(null);function I(x){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;$(x),M&&S(x)}function T(x){b(x.value),I("")}function Q(x){var M=x.type==="compositionend"||!x.nativeEvent.isComposing;I(x.currentTarget.value,M)}function X(){I("")}function ae(){v.length>0&&(b(v[0].value),I(""))}var ue=$v({resetButtonTitle:"Clear the search query",submitButtonTitle:"Submit the search query",noResultsText:"No results.",showMoreButtonText:function(M){return M.isShowingMore?"Show less":"Show more"}},f),U={items:v,canRefine:p,onRefine:T,query:j,searchBox:t&&it.default.createElement(sn,{inputRef:k,placeholder:r,isSearchStalled:!1,value:j,onChange:Q,onReset:X,onSubmit:ae,translations:{submitButtonTitle:ue.submitButtonTitle,resetButtonTitle:ue.resetButtonTitle}}),noResults:t&&g&&v.length===0&&ue.noResultsText,canToggleShowMore:m,onToggleShowMore:P,isShowingMore:y,translations:{showMoreButtonText:ue.showMoreButtonText}};return it.default.createElement(Hu,Ii({},d,U,{showMore:s}))}var wt=E(A(),1);function dr(e){return dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dr(e)}var Jv=["queryHook","searchAsYouType","ignoreCompositionEvents","translations"];function Ti(){return Ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ti.apply(this,arguments)}function Wu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wu(Object(r),!0).forEach(function(n){Yv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yv(e,t,r){return t=Xv(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xv(e){var t=Zv(e,"string");return dr(t)==="symbol"?t:String(t)}function Zv(e,t){if(dr(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ey(e,t){return iy(e)||ny(e,t)||ry(e,t)||ty()}function ty(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ry(e,t){if(e){if(typeof e=="string")return ku(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ku(e,t)}}function ku(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ny(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function iy(e){if(Array.isArray(e))return e}function ay(e,t){if(e==null)return{};var r=sy(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sy(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Uu(e){var t=e.queryHook,r=e.searchAsYouType,n=r===void 0?!0:r,i=e.ignoreCompositionEvents,a=i===void 0?!1:i,s=e.translations,c=ay(e,Jv),u=au({queryHook:t},{$$widgetType:"ais.searchBox"}),o=u.query,l=u.refine,f=u.isSearchStalled,d=(0,wt.useState)(o),h=ey(d,2),p=h[0],m=h[1],g=(0,wt.useRef)(null);function y(_){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;m(_),n&&!(a&&F)&&l(_)}function v(){y(""),n||l("")}function b(_){y(_.currentTarget.value,_.nativeEvent.isComposing)}function S(_){n||l(p),c.onSubmit&&c.onSubmit(_)}o!==p&&document.activeElement!==g.current&&m(o);var P={inputRef:g,isSearchStalled:f,onChange:b,onReset:v,onSubmit:S,value:p,translations:Gv({submitButtonTitle:"Submit the search query",resetButtonTitle:"Clear the search query"},s)};return wt.default.createElement(sn,Ti({},c,P))}var Qu=E(A(),1);var on=E(A(),1),oy=["items","value","onChange","classNames"];function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ai.apply(this,arguments)}function cy(e,t){if(e==null)return{};var r=uy(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uy(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Mu(e){var t=e.items,r=e.value,n=e.onChange,i=n===void 0?function(){}:n,a=e.classNames,s=a===void 0?{}:a,c=cy(e,oy);return on.default.createElement("div",Ai({},c,{className:w("ais-SortBy",s.root,c.className)}),on.default.createElement("select",{className:w("ais-SortBy-select",s.select),onChange:function(o){return i(o.target.value)},value:r,"aria-label":"Sort results by"},t.map(function(u){return on.default.createElement("option",{className:w("ais-SortBy-option",s.option),key:u.value,value:u.value},u.label)})))}var ly=["items","transformItems"];function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(this,arguments)}function fy(e,t){if(e==null)return{};var r=dy(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dy(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function qu(e){var t=e.items,r=e.transformItems,n=fy(e,ly),i=uu({items:t,transformItems:r},{$$widgetType:"ais.sortBy"}),a=i.currentRefinement,s=i.options,c=i.refine,u={items:s,value:a,onChange:c};return Qu.default.createElement(Mu,Ni({},n,u))}var Ku=E(A(),1);var Di=E(A(),1),hy=["classNames","nbHits","processingTimeMS","nbSortedHits","areHitsSorted","translations"];function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ci.apply(this,arguments)}function my(e,t){if(e==null)return{};var r=py(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function py(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Bu(e){var t=e.classNames,r=t===void 0?{}:t,n=e.nbHits,i=e.processingTimeMS,a=e.nbSortedHits,s=e.areHitsSorted,c=e.translations,u=my(e,hy),o={nbHits:n,processingTimeMS:i,nbSortedHits:a,areHitsSorted:s};return Di.default.createElement("div",Ci({},u,{className:w("ais-Stats",r.root,u.className)}),Di.default.createElement("span",{className:"ais-Stats-text"},c.rootElementText(o)))}function hr(e){return hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hr(e)}var gy=["translations"];function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hi.apply(this,arguments)}function Vu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vu(Object(r),!0).forEach(function(n){yy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yy(e,t,r){return t=by(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function by(e){var t=Sy(e,"string");return hr(t)==="symbol"?t:String(t)}function Sy(e,t){if(hr(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oy(e,t){if(e==null)return{};var r=wy(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wy(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function zu(e){var t=e.translations,r=Oy(e,gy),n=du(void 0,{$$widgetType:"ais.stats"}),i=n.nbHits,a=n.nbSortedHits,s=n.processingTimeMS,c=n.areHitsSorted,u={nbHits:i,nbSortedHits:a,processingTimeMS:s,areHitsSorted:c,translations:vy({rootElementText:function(l){return"".concat(l.areHitsSorted?Py(l):Ry(l)," found in ").concat(l.processingTimeMS.toLocaleString(),"ms")}},t)};return Ku.default.createElement(Bu,Hi({},r,u))}function Py(e){var t=e.nbHits,r=e.nbSortedHits,n="sorted out of ".concat(t.toLocaleString());return r===0?"No relevant results ".concat(n):r===1?"1 relevant result ".concat(n):r>1?"".concat((r||0).toLocaleString()," relevant results ").concat(n):""}function Ry(e){var t=e.nbHits;return t===0?"No results":t===1?"1 result":t>1?"".concat(t.toLocaleString()," results"):""}function mr(e){return e.handleInstantSearchRequests!==void 0}var xy=class{constructor(e,t){if(this.config=e,this.requestOptions=t,this.cache=[],!mr(this.config)&&!this.config.url)throw new Error("Searchkit Instantsearch Client: url is required");if(!mr(this.config)&&this.requestOptions)throw new Error("Searchkit Instantsearch Client: requestOptions is not supported when used with url. Add the request options to @searchkit/api instead.")}clearCache(){return this.cache=[],Promise.resolve(void 0)}getHeaders(){let e={};return!mr(this.config)&&this.config.headers&&(e=typeof this.config.headers=="function"?this.config.headers():this.config.headers),e}async search(e){try{let t=JSON.stringify(e),r=this.cache[t];if(r)return r;if(mr(this.config)){let a=await this.config.handleInstantSearchRequests(e,this.requestOptions);return this.cache[t]=a,a}let i=await(await fetch(this.config.url,{body:JSON.stringify(e),headers:{"Content-Type":"application/json",...this.getHeaders()},method:"POST"})).json();return this.cache[t]=i,i}catch(t){return console.error(t),[]}}async searchForFacetValues(e){let t=e.map(r=>({...r,params:{...r.params,hitsPerPage:0}}));try{return mr(this.config)?(await this.config.handleInstantSearchRequests(t)).results:(await(await fetch(this.config.url,{body:JSON.stringify(t),headers:{"Content-Type":"application/json",...this.getHeaders()},method:"POST"})).json()).results}catch(r){return console.error(r),[]}}},_y=(e,t)=>new xy(e,t),Ju=_y;var Gu=E(He(),1);function Li(e){let t="#ddd",r=parseFloat(e.score);return r&&(r>1&&r<9?t="#ffa":r>=9&&(t="#afa")),(0,Gu.jsx)("div",{style:{backgroundColor:t},className:"score-light"})}var K=E(He(),1);function jy(e){if(e&&e.pbcoreIdentifier&&e.pbcoreIdentifier.length>0){var t=e.pbcoreIdentifier.find(r=>r.source=="http://americanarchiveinventory.org");if(t&&t.text)return t.text.replace("/","-")}}function Ey(e){return e.length>0&&e[0].text&&e[0].text.toLowerCase()!=="no description available"?`${e[0].text.substring(0,500)}`:""}function $i({hit:e}){let t=jy(e.pbcoreDescriptionDocument),r=Ey(e.pbcoreDescriptionDocument.pbcoreDescription),n,i,a;return e.pbcoreDescriptionDocument.assetDate&&e.pbcoreDescriptionDocument.assetDate.length>0&&(i=(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("b",{children:"Date:"})," ",e.pbcoreDescriptionDocument.assetDate[0]]})),e.pbcoreDescriptionDocument.pbcoreCreator&&e.pbcoreDescriptionDocument.pbcoreCreator.length>0&&(a=(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("b",{children:"Produced By:"})," ",e.producing_org]})),(0,K.jsxs)("div",{className:"search-result",children:[(0,K.jsx)("pre",{children:JSON.stringify(e)}),(0,K.jsx)("a",{href:`/search/${t}`,children:(0,K.jsx)("div",{className:"hit-thumbnail-container",children:(0,K.jsx)(qi,{guid:t,searchResult:!0})})}),(0,K.jsx)("div",{className:"hit-info-container",children:(0,K.jsx)("a",{href:`/search/${t}`,children:(0,K.jsx)("h3",{className:"hit-title",children:e.title})})}),(0,K.jsxs)("div",{className:"hit-details marbot",children:[(0,K.jsx)(Li,{score:e._score}),i,a]}),(0,K.jsx)("div",{className:"hit-description marbot",children:r}),(0,K.jsx)("hr",{})]})}var Yu=E(A(),1);var Je=E(He(),1);function Re(e){let[t,r]=(0,Yu.useState)(!e.startClosed),n="search-accordion-content";t&&(n=n+" open");let i;return t?i=(0,Je.jsx)(Mi,{}):i=(0,Je.jsx)(Qi,{}),(0,Je.jsxs)("div",{className:"search-accordion-container",children:[(0,Je.jsx)("div",{onClick:()=>{r(!t)},className:"search-accordion-toggle",children:(0,Je.jsxs)("h4",{className:"search-accordion-title",children:[e.title,i]})}),(0,Je.jsx)("div",{className:n,children:e.content})]})}var R=E(He(),1),Fy=["producing_org","pbcoreDescriptionDocument.pbcoreCreator.creator"];function Zu(){let e=Ui(),[t,r]=ki(),[n,i]=(0,Xu.useState)({all:t.get("all")||"",title:t.get("title")||"",none:t.get("none")||""});function a(y){return{bool:{should:[{match:{title:y}},{nested:{path:"pbcoreDescriptionDocument.pbcoreTitle",query:{match:{"pbcoreDescriptionDocument.pbcoreTitle.text":{query:y}}}}}],minimum_should_match:1}}}function s(y){return[{match:{guid:y}},{match:{genres:y}},{match:{topics:y}},{match:{title:{query:y,analyzer:"standard",boost:4}}},{nested:{path:"pbcoreDescriptionDocument.pbcoreDescription",query:{match:{"pbcoreDescriptionDocument.pbcoreDescription.text":{query:y}}}}},{nested:{path:"pbcoreDescriptionDocument.pbcoreTitle",query:{match:{"pbcoreDescriptionDocument.pbcoreTitle.text":{query:y,analyzer:"standard",boost:3}}}}},{nested:{path:"pbcoreDescriptionDocument.pbcoreAssetDate",query:{match:{"pbcoreDescriptionDocument.pbcoreAssetDate.text":{query:y}}}}},{nested:{path:"pbcoreDescriptionDocument.pbcoreCreator.creator",query:{match:{"pbcoreDescriptionDocument.pbcoreCreator.creator.text":{query:y,boost:1}}}}}]}function c(y){return[{term:{guid:{value:y,case_insensitive:!0}}},{term:{genres:{value:y,case_insensitive:!0}}},{term:{topics:{value:y,case_insensitive:!0}}},{term:{title:{value:y,case_insensitive:!0}}},{nested:{path:"pbcoreDescriptionDocument.pbcoreDescription",query:{term:{"pbcoreDescriptionDocument.pbcoreDescription.text":{value:y,case_insensitive:!0}}}}},{nested:{path:"pbcoreDescriptionDocument.pbcoreTitle",query:{term:{"pbcoreDescriptionDocument.pbcoreTitle.text":{value:y,case_insensitive:!0}}}}},{nested:{path:"pbcoreDescriptionDocument.pbcoreAssetDate",query:{term:{"pbcoreDescriptionDocument.pbcoreAssetDate.text":{value:y}}}}},{nested:{path:"pbcoreDescriptionDocument.pbcoreCreator.creator",query:{term:{"pbcoreDescriptionDocument.pbcoreCreator.creator.text":{value:y,case_insensitive:!0}}}}}]}function u(y){var v=y.split(" ").map(b=>c(b)).flat();return{bool:{should:v,minimum_should_match:1}}}let o=new ta({connection:{host:e.esURL,apiKey:e.apiKey},search_settings:{highlight_attributes:["pbcoreDescriptionDocument.pbcoreTitle.text"],search_attributes:[],result_attributes:["guid","title","broadcast_date","pbcoreDescriptionDocument"],facet_attributes:[{attribute:"pbcoreDescriptionDocument.pbcoreAssetType.text",field:"text",type:"string",nestedPath:"pbcoreDescriptionDocument.pbcoreAssetType"},{attribute:"producing_org",field:"producing_org",type:"string"},{attribute:"media_type",field:"media_type",type:"string"},{attribute:"access_level",field:"access_level",type:"string"},{attribute:"genres",field:"genres",type:"string"},{attribute:"contributing_orgs",field:"contributing_orgs",type:"string"},{attribute:"special_collections",field:"special_collections",type:"string"},{attribute:"topics",field:"topics",type:"string"},{attribute:"broadcast_date",field:"broadcast_date",type:"string"}],sorting:{_default:{field:"_score",order:"desc"},_title_keyword_asc:{field:"title_keyword",order:"asc"},_broadcast_date_desc:{field:"broadcast_date",order:"desc"}}}}),l=y=>y.map(v=>{if(v.value){var b=v.value.match(/^\d{4}(.*)/)[1];v.value=v.value.replace(b,""),v.label=v.label.replace(b,"")}return v}),f=y=>y.map(v=>(v.label||(v.label="Private"),v)),d=y=>Fy.includes(y),h=y=>{switch(y){case"producing_org":return"Producing Organization";case"contributing_orgs":return"Contributing Organization";case"media_type":return"Media Type";case"access_level":return"Availability";case"genres":return"Genre";case"topics":return"Topic";case"pbcoreDescriptionDocument.pbcoreAssetType.text":return"Asset Type";case"collections":return"Collection"}},p=y=>(y.map(v=>{let b=v.refinements.map(S=>(S.label=`${h(v.label)}: ${S.label}`,S));return v.label="",v.refinements=b,v}),y);function m(y,v,b){return b.indexOf(y)===v}let g=Ju(o,{getQuery:(y,v)=>{var b,S;if(n.title&&n.title.length>0&&(S=n.title),!1){var P,_,F;if(n.none&&n.none.length>0)var j}else{var $=s(y);if(b={bool:{should:[{bool:{should:$,minimum_should_match:1}}]}},n.all&&n.all.length>0){var k={bool:{should:s(n.all)}};b.bool.should.push(k),b.bool.minimum_should_match=2}return n.none&&n.none.length>0&&(b.bool.must_not=[u(n.none)]),n.title&&n.title.length>0&&(b.bool.must=[a(n.title)]),b}}});return(0,R.jsx)("div",{className:"body-container",children:(0,R.jsxs)(Ic,{routing:!0,indexName:e.indexName,searchClient:g,children:[(0,R.jsxs)("div",{className:"top-search-bar marleft marbot",children:[(0,R.jsx)("h2",{className:"",children:"Search Results"}),(0,R.jsx)(zu,{})]}),(0,R.jsxs)("div",{className:"top-refinements-bar marbot marleft marright",children:[(0,R.jsx)("div",{className:"current-refinements-container",children:(0,R.jsx)(Pu,{transformItems:p})}),(0,R.jsx)("div",{className:"clear-refinements-container",children:(0,R.jsx)(bu,{})}),(0,R.jsx)(qu,{items:[{label:"Relevance",value:"aapb_augmented_biggram_default"},{label:"Title",value:"aapb_augmented_biggram_title_keyword_asc"},{label:"Broadcast Date",value:"aapb_augmented_biggram_broadcast_date_desc"}]})]}),(0,R.jsxs)("div",{className:"page-sidebar",children:[(0,R.jsx)("h3",{children:"Refine Search"}),(0,R.jsx)("hr",{}),(0,R.jsx)(Re,{title:"Keywords",content:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("h4",{children:"Search for"}),(0,R.jsx)(Uu,{className:"sidebar-search smarbot"}),(0,R.jsx)("h4",{children:"Contains all these words"}),(0,R.jsx)("input",{value:n.all,className:"sidebar-search smarbot",type:"text",onChange:y=>i({...n,all:y.target.value})}),(0,R.jsx)("h4",{children:"This title"}),(0,R.jsx)("input",{value:n.title,className:"sidebar-search smarbot",type:"text",onChange:y=>i({...n,title:y.target.value})}),(0,R.jsx)("h4",{children:"None of these words"}),(0,R.jsx)("input",{value:n.none,className:"sidebar-search smarbot",type:"text",onChange:y=>i({...n,none:y.target.value})})]})}),(0,R.jsx)("hr",{}),(0,R.jsx)(Re,{title:"Availability",content:(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(De,{attribute:"access_level",transformItems:f})})}),(0,R.jsx)("hr",{}),(0,R.jsx)(Re,{title:"Media Type",content:(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(De,{attribute:"media_type"})})}),(0,R.jsx)("hr",{}),(0,R.jsx)(Re,{title:"Asset Type",startClosed:!0,content:(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(De,{attribute:"pbcoreDescriptionDocument.pbcoreAssetType.text"})})}),(0,R.jsx)("hr",{}),(0,R.jsx)(Re,{title:"Producing Organization",content:(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(De,{attribute:"producing_org"})})}),(0,R.jsx)("hr",{}),(0,R.jsx)(Re,{title:"Genre",startClosed:!0,content:(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(De,{attribute:"genres"})})}),(0,R.jsx)("hr",{}),(0,R.jsx)(Re,{title:"Topic",startClosed:!0,content:(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(De,{attribute:"topics"})})}),(0,R.jsx)("hr",{}),(0,R.jsx)(Re,{title:"Contributing Organization",startClosed:!0,content:(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(De,{attribute:"contributing_orgs"})})}),(0,R.jsx)("hr",{}),(0,R.jsx)(Re,{title:"Collection",startClosed:!0,content:(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(De,{attribute:"special_collections"})})}),(0,R.jsx)("hr",{})]}),(0,R.jsxs)("div",{className:"page-maincolumn",children:[(0,R.jsx)(Iu,{hitComponent:$i}),(0,R.jsx)(Du,{})]})]})})}export{Zu as default};
/*! Bundled license information:

use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js:
  (**
   * @license React
   * use-sync-external-store-shim.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
